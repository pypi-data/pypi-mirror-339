pf_reasoning_tool.tools.reasoning_tool_call.call_reasoning_model:
$schema: https://azuremlschemas.azureedge.net/promptflow/latest/Tool.schema.json
name: Reasoning LLM Tool
description: "Calls an OpenAI reasoning model on Azure OpenAI using a PromptTemplate, parsing specific markers, and allowing parameter configuration."
type: custom_llm # Correct type
category: HW_PF_tools # Correct category
module: pf_reasoning_tool.tools.reasoning_tool_call # Correct module path
function: reasoning_llm # Correct function name

default_prompt: | # Correctly defined
  # system:
  You are a helpful AI assistant designed for reasoning tasks.
  # user:
  {{question}}

inputs:
  # NO explicit 'prompt' input - CORRECT for custom_llm type

  connection:
    type: [AzureOpenAIConnection, OpenAIConnection, CustomConnection] # List format is fine here
    description: The connection object for OpenAI or Azure OpenAI.
  deployment_name:
    type: [string] # List format is fine
    description: Name of the Azure OpenAI deployment (e.g., your o3-mini deployment).
  max_completion_tokens:
    type: [int] # List format is fine
    description: Maximum number of tokens for the completion.
    default: 5000
    optional: true
    ui_hints: {text_box_size: md} # Size set
  reasoning_effort:
    type: [string] # List format is fine
    description: Select the reasoning effort level for the model.
    default: "low"
    optional: true
    dynamic_list: # Correctly configured
      func_path: pf_reasoning_tool.tools.reasoning_tool_call.get_reasoning_effort_options
      func_kwargs: []
    allow_manual_entry: false
    is_multi_select: false
  temperature:
    type: [double] # List format is fine
    description: Controls randomness. Lower values make output more focused. (e.g., 0.7)
    default: 0.7
    optional: true
    ui_hints: {text_box_size: xs} # Size set
  response_format:
    type: object # Correct type, NOT a list here
    description: Select the desired output format.
    default: {"type": "text"} # Default provided
    optional: true
    dynamic_list: # Correctly configured
      func_path: pf_reasoning_tool.tools.reasoning_tool_call.get_response_format_options
      func_kwargs: []
    allow_manual_entry: false
    is_multi_select: false

outputs:
  output:
    type: [string] # List format is fine
    description: The text response generated by the language model.