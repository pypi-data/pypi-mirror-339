# C:\Users\CRVI\OneDrive - Hall & Wilcox\promptflowcustomtools\pf-reasoning-tool-proj\pf_reasoning_tool\yamls\reasoning_tool_call.yaml

$schema: https://azuremlschemas.azureedge.net/promptflow/latest/Tool.schema.json
name: Reasoning LLM Tool # Tool name
description: "Calls an OpenAI reasoning model on Azure OpenAI using a PromptTemplate, parsing specific markers, and allowing parameter configuration. (Note: Ignore the small 'prompt' text field above the main template editor; use the linked Jinja2 file for the actual prompt)."
type: custom_llm
category: HW_PF_tools
module: pf_reasoning_tool.tools.reasoning_tool_call
# ---> Ensure this matches the new Python function name <---
function: reasoning_llm

inputs:
  # ... (rest of inputs section remains the same) ...
  connection:
    type:
      - AzureOpenAIConnection
      - OpenAIConnection
      - CustomConnection
    description: The connection object for OpenAI or Azure OpenAI.
  deployment_name:
    type:
      - string
    description: Name of the Azure OpenAI deployment (e.g., your o3-mini deployment).
  prompt_template:
    type:
      - string
    description: "Prompt template structure containing # system: ... # user: ... markers and Jinja2 variables (e.g., {{input_var}})"
  max_completion_tokens:
    type:
      - int
    description: Maximum number of tokens for the completion.
    default: 5000
    optional: true
  reasoning_effort:
    type:
      - string
    description: Select the reasoning effort level for the model.
    default: "low"
    optional: true
    dynamic_list:
      # This path still points to the correct *file*, which now contains the renamed function
      # but the helper function name `get_reasoning_effort_options` remains the same.
      func_path: pf_reasoning_tool.tools.reasoning_tool_call.get_reasoning_effort_options
      func_kwargs: []
    allow_manual_entry: false
    is_multi_select: false

outputs:
  # ... (outputs section remains the same) ...
  output:
    type:
      - string
    description: The text response generated by the language model.