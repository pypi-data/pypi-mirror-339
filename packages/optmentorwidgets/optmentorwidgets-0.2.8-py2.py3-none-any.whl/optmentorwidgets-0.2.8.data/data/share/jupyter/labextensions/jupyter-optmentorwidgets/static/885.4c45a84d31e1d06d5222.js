"use strict";(self.webpackChunkjupyter_optmentorwidgets=self.webpackChunkjupyter_optmentorwidgets||[]).push([[885],{56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var s={},r=[],a=0;a<e.length;a++){var l=e[a],d=i.base?l[0]+i.base:l[0],c=s[d]||0,h="".concat(d," ").concat(c);s[d]=c+1;var u=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var m=o(p,i);i.byIndex=a,t.splice(a,0,{identifier:h,updater:m,references:1})}r.push(h)}return r}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=i(e=e||[],o=o||{});return function(e){e=e||[];for(var r=0;r<s.length;r++){var a=n(s[r]);t[a].references--}for(var l=i(e,o),d=0;d<s.length;d++){var c=n(s[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);i&&r[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},330:e=>{e.exports=JSON.parse('{"name":"jupyter-optmentorwidgets","version":"0.2.8","description":"Jupyter Widgets for OPT Mentor virtual learning environment.","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"homepage":"https://github.com/chiwangso/optmentorwidgets","bugs":{"url":"https://github.com/chiwangso/optmentorwidgets/issues"},"license":"BSD-3-Clause","author":{"name":"Chi Wang So","email":"chiwangso@gmail.com"},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/chiwangso/optmentorwidgets"},"scripts":{"build":"npm run build:lib && npm run build:nbextension:dev && npm run build:labextension:dev","build:prod":"npm run build:lib && npm run build:nbextension && npm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack --mode=production","build:nbextension:dev":"webpack --mode=development","clean":"npm run clean:lib && npm run clean:nbextension && npm run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf optmentorwidgets/labextension","clean:nbextension":"rimraf optmentorwidgets/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"npm run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@codemirror/autocomplete":"^6.1.0","@codemirror/commands":"^6.0.1","@codemirror/lang-html":"^6.1.0","@codemirror/lang-javascript":"^6.0.2","@codemirror/language":"^6.2.1","@codemirror/lint":"^6.0.0","@codemirror/search":"^6.0.1","@codemirror/state":"^6.1.0","@codemirror/theme-one-dark":"^6.0.0","@codemirror/view":"^6.1.1","@jupyter-widgets/base":"^1.1.10 || ^2.0.0 || ^3.0.0 || ^4.0.0"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyterlab/builder":"^4.3.6","@phosphor/application":"^1.6.0","@phosphor/widgets":"^1.6.0","@types/jest":"^28.1.6","@types/node":"^18.0.0","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^5.0.0","@typescript-eslint/parser":"^5.0.0","acorn":"^7.2.0","css-loader":"^6.7.1","eslint":"^8.0.0","eslint-config-prettier":"^8.0.0","eslint-plugin-prettier":"^4.0.0","fs-extra":"^10.0.0","identity-obj-proxy":"^3.0.0","jest":"^28.0.0","mkdirp":"^1.0.0","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^3.0.0","source-map-loader":"^4.0.0","style-loader":"^3.0.0","ts-jest":"^28.0.0","ts-loader":"^9.0.0","typescript":"~4.9.0","webpack":"^5.98.0","webpack-cli":"^4.10.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"optmentorwidgets/labextension/","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')},463:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var i=n(72),o=n.n(i),s=n(825),r=n.n(s),a=n(659),l=n.n(a),d=n(56),c=n.n(d),h=n(540),u=n.n(h),p=n(113),m=n.n(p),b=n(930),y={};y.styleTagTransform=m(),y.setAttributes=c(),y.insert=l().bind(null,"head"),y.domAPI=r(),y.insertStyleElement=u(),o()(b.A,y);const g=b.A&&b.A.locals?b.A.locals:void 0},511:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.editorSetup=t.EditorView=void 0;const i=n(24);var o=n(24);Object.defineProperty(t,"EditorView",{enumerable:!0,get:function(){return o.EditorView}});const s=n(195),r=n(84),a=n(661),l=n(529),d=n(445),c=n(86),h=n(826),u=(()=>[(0,i.lineNumbers)(),(0,i.highlightActiveLineGutter)(),(0,i.highlightSpecialChars)(),(0,a.history)(),(0,r.foldGutter)(),(0,i.drawSelection)(),(0,i.dropCursor)(),s.EditorState.allowMultipleSelections.of(!0),(0,r.indentOnInput)(),(0,r.syntaxHighlighting)(r.defaultHighlightStyle,{fallback:!0}),(0,r.bracketMatching)(),(0,d.closeBrackets)(),(0,d.autocompletion)(),(0,i.rectangularSelection)(),(0,i.crosshairCursor)(),(0,i.highlightActiveLine)(),(0,l.highlightSelectionMatches)(),i.keymap.of([{key:"Alt-Mod-z",run:a.undo,preventDefault:!0},{key:"Alt-Mod-y",mac:"Alt-Mod-Shift-z",run:a.redo,preventDefault:!0},{linux:"Alt-Ctrl-Shift-z",run:a.redo,preventDefault:!0},{key:"Alt-Ctrl-Tab",run:a.indentMore,preventDefault:!0},{key:"Alt-Ctrl-Shift-Tab",run:a.indentLess,preventDefault:!0},...d.closeBracketsKeymap,...a.defaultKeymap,...l.searchKeymap,...a.historyKeymap,...r.foldKeymap,...d.completionKeymap,...c.lintKeymap]),h.oneDark])();t.editorSetup=u},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},797:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const i=n(330);t.MODULE_VERSION=i.version,t.MODULE_NAME=i.name},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},885:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OPTWidgetView=t.OPTWidgetModel=t.JSWidgetView=t.JSWidgetModel=void 0;const i=n(470),o=n(797);n(463);const s=n(24),r=n(511),a=n(195),l=n(990),d=n(13);class c extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"JSWidgetModel",_view_name:"JSWidgetView",_model_module:o.MODULE_NAME,_model_module_version:o.MODULE_VERSION,_view_module:o.MODULE_NAME,_view_module_version:o.MODULE_VERSION,js:"// some code here",html:"\x3c!-- some code here --\x3e",height:600,width:600})}}t.JSWidgetModel=c,c.serializers=Object.assign({},i.DOMWidgetModel.serializers);class h extends i.DOMWidgetView{render(){const e=s.keymap.of([{key:"Ctrl-Enter",run:(()=>(this.run(),!0)).bind(this)},{key:"Alt-Shift-Enter",run:(()=>(this.run(),!0)).bind(this)}]);this.jsTab=document.createElement("div"),this.htmlTab=document.createElement("div"),this.jsTab.innerHTML="JS",this.htmlTab.innerHTML="HTML",this.jsTab.classList.add("active-tab"),this.tabContainer=document.createElement("div"),this.tabContainer.className="tab-container",this.jsTab.onclick=(()=>{this.htmlTab.classList.remove("active-tab"),this.jsTab.classList.add("active-tab"),this.htmlContainer.style.display="none",this.jsContainer.style.display="block"}).bind(this),this.htmlTab.onclick=(()=>{this.htmlTab.classList.add("active-tab"),this.jsTab.classList.remove("active-tab"),this.htmlContainer.style.display="block",this.jsContainer.style.display="none"}).bind(this),this.tabContainer.appendChild(this.jsTab),this.tabContainer.appendChild(this.htmlTab),this.jsContainer=document.createElement("div"),this.jsContainer.className="js-container",this.jsContainer.style.display="block",this.jsView=new s.EditorView({state:a.EditorState.create({doc:this.model.get("js"),extensions:[r.editorSetup,e,(0,l.javascript)()]}),parent:this.jsContainer}),this.htmlContainer=document.createElement("div"),this.htmlContainer.className="html-container",this.htmlContainer.style.display="none",this.htmlView=new s.EditorView({state:a.EditorState.create({doc:this.model.get("html"),extensions:[r.editorSetup,e,(0,d.html)()]}),parent:this.htmlContainer}),this.editorContainer=document.createElement("div"),this.editorContainer.style.display="none",this.editorContainer.className="editor-container",this.editorContainer.appendChild(this.jsContainer),this.editorContainer.appendChild(this.htmlContainer);let t=e=>{if((e.metaKey||e.ctrlKey)&&!e.altKey&&!e.shiftKey&&"KeyZ"===e.code||(e.metaKey||e.ctrlKey)&&!e.altKey&&!e.shiftKey&&"KeyY"===e.code||(e.metaKey||e.ctrlKey)&&!e.altKey&&e.shiftKey&&"KeyZ"===e.code||!e.metaKey&&!e.ctrlKey&&!e.altKey&&e.shiftKey&&"Enter"===e.code||!e.metaKey&&!e.ctrlKey&&!e.altKey&&"Tab"===e.code){e.stopImmediatePropagation(),e.preventDefault();let t=new KeyboardEvent(e.type,{altKey:!0,code:e.code,ctrlKey:e.ctrlKey||"Tab"===e.code,isComposing:e.isComposing,repeat:e.repeat,metaKey:e.metaKey,shiftKey:e.shiftKey,key:e.key});e.target.dispatchEvent(t)}};this.editorContainer.addEventListener("focusin",(e=>{window.addEventListener("keydown",t,!0),console.log("in",e)}).bind(this)),this.editorContainer.addEventListener("focusout",(e=>{window.removeEventListener("keydown",t,!0),console.log("out",e)}).bind(this)),this.controlContainer=document.createElement("div"),this.controlContainer.className="control-container",this.controlContainer.style.display="flex",this.showBtn=document.createElement("button"),this.showBtn.innerText="scratch",this.showBtn.onclick=this.toggleCode.bind(this),this.runBtn=document.createElement("button"),this.runBtn.innerText="run code",this.runBtn.title="Shift-Enter",this.runBtn.onclick=this.run.bind(this),this.runBtn.style.display="none",this.controlContainer.appendChild(this.showBtn),this.controlContainer.appendChild(this.runBtn),this.outputContainer=document.createElement("div"),this.outputContainer.className="output-container",this.outputIFrame=document.createElement("iframe"),this.outputIFrame.height="100%",this.outputIFrame.width="100%",this.outputContainer.appendChild(this.outputIFrame),this.setHtml(),this.widgetContainer=document.createElement("div"),this.widgetContainer.className="divewidget",this.widgetContainer.appendChild(this.outputContainer),this.widgetContainer.appendChild(this.controlContainer),this.widgetContainer.appendChild(this.tabContainer),this.widgetContainer.appendChild(this.editorContainer),this.el.appendChild(this.widgetContainer)}run(){const e=this.htmlView.state.doc.toString(),t=this.jsView.state.doc.toString();this.model.set("html",e),this.model.set("js",t),this.model.save_changes()}setHtml(){this.outputIFrame.srcdoc=this.model.get("html"),this.outputIFrame.onload=function(){this.outputDocument=this.outputIFrame.contentDocument,this.jsScript=this.outputDocument.createElement("script"),this.outputDocument.body.appendChild(this.jsScript),this.setJs(),this.model.on("change:js",this.setJs,this),this.model.on("change:html",this.setHtml,this)}.bind(this)}setJs(){let e=this.outputDocument.createElement("script");e.innerHTML=`(function () {\n      ${this.model.get("js")}\n    })();`,this.outputDocument.body.replaceChild(e,this.jsScript),this.jsScript=e,this.outputContainer.style.height=(this.model.get("height")<0?this.outputDocument.body.scrollHeight:this.model.get("height"))+"px",this.outputContainer.style.width=(this.model.get("width")<0?this.outputDocument.body.scrollWidth:this.model.get("width"))+"px"}toggleCode(){"block"==this.editorContainer.style.display?(this.showBtn.innerText="scratch",this.tabContainer.style.display="none",this.editorContainer.style.display="none",this.runBtn.style.display="none"):(this.showBtn.innerText="hide code",this.tabContainer.style.display="flex",this.editorContainer.style.display="block",this.runBtn.style.display="block")}}t.JSWidgetView=h;class u extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"JSWidgetModel",_view_name:"JSWidgetView",_model_module:o.MODULE_NAME,_model_module_version:o.MODULE_VERSION,_view_module:o.MODULE_NAME,_view_module_version:o.MODULE_VERSION,script:"# some code here",height:600,width:600})}}t.OPTWidgetModel=u,u.serializers=Object.assign({},i.DOMWidgetModel.serializers);class p extends i.DOMWidgetView{render(){this.outputContainer=document.createElement("div"),this.outputContainer.className="output-container",this.outputIFrame=document.createElement("iframe"),this.outputIFrame.height="100%",this.outputIFrame.width="100%",this.outputContainer.appendChild(this.outputIFrame),this.setHtml(),this.widgetContainer=document.createElement("div"),this.widgetContainer.className="divewidget",this.widgetContainer.appendChild(this.outputContainer),this.el.appendChild(this.widgetContainer)}setHtml(){this.outputIFrame.src=this.model.get("srcprefix")+encodeURIComponent(this.model.get("script")),this.outputContainer.style.height=this.model.get("height")+"px",this.outputContainer.style.width=this.model.get("width")+"px"}}t.OPTWidgetView=p},930:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(601),o=n.n(i),s=n(314),r=n.n(s)()(o());r.push([e.id,".tab-container {\n  display: none;\n  flex-direction: row;\n  overflow: hidden;\n}\n\n.output-container {\n  resize: both;\n  overflow: auto;\n  max-width: 100%;\n  border: none;\n  padding: 0;\n}\n\n.output-container > iframe {\n  border: none;\n}\n\n.editor-container {\n  resize: both;\n  overflow: auto;\n  max-width: 100%;\n  border: none;\n}\n\n.tab-container > div {\n  padding: 6px 6px;\n  margin: 2px;\n  background-color:lightgray;\n  display: block; \n  overflow: hidden;\n  border: none;\n  color: grey;\n}\n\n.tab-container > div.active-tab {\n  background-color:grey;\n  color: yellow;\n}\n",""]);const a=r}}]);