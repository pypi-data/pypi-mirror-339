{
    "cdk": {
        "parameters": [
            {
                "placeholder": "{{WORKLOAD_NAME}}",
                "env_var_name": "CDK_WORKLOAD_NAME"                
            },
            {
                "placeholder": "{{CDK_SYNTH_COMMAND_FILE}}",
                "value": "../../samples/website/commands/cdk_synth.sh"                
            },
            {
                "placeholder": "{{WWW_FILES}}",
                "value": "../../samples/website/src/www"                
            },
            {
                "placeholder": "{{AWS_ACCOUNT}}",
                "env_var_name": "AWS_ACCOUNT_NUMBER"                
            },            
            {
                "placeholder": "{{DEVOPS_AWS_ACCOUNT}}",
                "env_var_name": "DEVOPS_AWS_ACCOUNT"                
            },
            {
                "placeholder": "{{DEVOPS_REGION}}",
                "env_var_name": "DEVOPS_REGION"                
            },
            {
                "placeholder": "{{CODE_REPOSITORY_NAME}}",
                "env_var_name": "CODE_REPOSITORY_NAME"                
            },
            {
                "placeholder": "{{CODE_REPOSITORY_ARN}}",
                "env_var_name": "CODE_REPOSITORY_ARN"                
            },
            {
                "placeholder": "{{SITE_BUCKET_NAME}}",
                "env_var_name": "SITE_BUCKET_NAME"
            },
            {
                "placeholder": "{{HOSTED_ZONE_ID}}",
                "env_var_name": "HOSTED_ZONE_ID"                
            },
            {
                "placeholder": "{{HOSTED_ZONE_NAME}}",
                "env_var_name": "HOSTED_ZONE_NAME"                
            },
            {
                "placeholder": "{{DNS_ALIAS}}",
                "env_var_name": "DNS_ALIAS"
            }
        ]
    },
    "workload": {
        "name": "{{WORKLOAD_NAME}}",
        "description": "General info about this app/workload",
        "devops": {                       
            "account": "{{DEVOPS_AWS_ACCOUNT}}",
            "region": "{{DEVOPS_REGION}}",
            "code_repository": {
                "name": "{{CODE_REPOSITORY_NAME}}",
                "type": "connector_arn",
                "connector_arn": "{{CODE_REPOSITORY_ARN}}"
            },
            "commands": [
                {
                    "name": "cdk_synth",
                    "commands": [],
                    "file": "{{CDK_SYNTH_COMMAND_FILE}}"
                }
            ]
        },
        "stacks": [
            {
                "name": "web-site-bucket",
                "module": "bucket_stack",
                "enabled": true,
                "bucket": {
                    "name": "{{SITE_BUCKET_NAME}}",
                    "fully_qualified_name": "{{workload-name}}-{{deployment-name}}-{{SITE_BUCKET_NAME}}",
                    "exists": false
                }
            },
            {
                "name": "web-site",
                "module": "static_website_stack",
                "enabled": true,
                "bucket": {
                    "name": "{{SITE_BUCKET_NAME}}",
                    "fully_qualified_name": "{{workload-name}}-{{deployment-name}}-{{SITE_BUCKET_NAME}}",
                    "exists": true
                },
                "src": {
                    "location": "file_system",
                    "path": "{{WWW_FILES}}"
                },
                "accounts": [
                    {
                        "account": "{{AWS_ACCOUNT}}",
                        "environments": [
                            {
                                "environment": "dev",
                                "dns": {
                                    "hosted_zone_id": "{{HOSTED_ZONE_ID}}",
                                    "hosted_zone_name": "{{HOSTED_ZONE_NAME}}",
                                    "aliases": [
                                        "{{DNS_ALIAS}}",
                                        "www.{{DNS_ALIAS}}"
                                    ]
                                },
                                "cert": {
                                    "domain_name": "{{DNS_ALIAS}}",
                                    "alternate_names": [
                                        "*.{{DNS_ALIAS}}"
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "pipelines": [
            {
                "name": "static-site-dev-pipeline",
                "branch": "develop",
                "enabled": false,
                "stages": [
                    {
                        "name": "bucket",
                        "stacks": [
                            "web-site-bucket"
                        ]
                    },
                    {
                        "name": "website1",
                        "stacks": [
                            "web-site"
                        ]
                    }
                ],
                "deployments": [
                    {
                        "name": "dev",
                        "waves": [
                            "bucket",
                            "website"
                        ]
                    }
                ]
            }
        ],
        "deployments": [
            {
                "name": "dev",
                "environment": "dev",
                "account": "{{AWS_ACCOUNT}}",
                "region": "us-east-1",
                "mode": "stack",
                "stacks": [
                    "web-site-bucket"
                ],
                "enabled": true
            },
            {
                "name": "static-site-dev-deployment",
                "environment": "dev",
                "account": "{{AWS_ACCOUNT}}",
                "region": "us-east-1",
                "mode": "pipeline",
                "pipeline": "static-site-dev-pipeline",
                "enabled": true
            }
        ]
    }
}