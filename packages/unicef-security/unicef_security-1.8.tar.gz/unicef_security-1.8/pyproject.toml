[build-system]
build-backend = "hatchling.build"
requires = [
  "hatch-vcs>=0.4",
  "hatchling>=1.25",
]

[project]
name = "unicef-security"
description = "Provides Basic UNICEF User model and integration with Azure"
readme = "README.md"
license = "Apache-2.0 OR MIT"
authors = [
  { name = "UNICEF", email = "rapidpro@unicef.org" },
]
classifiers = [
  "Environment :: Web Environment",
  "Framework :: Django",
  "Framework :: Django :: 3.2",
  "Framework :: Django :: 4.2",
  "Framework :: Django :: 5.1",
  "Intended Audience :: Developers",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
]
dynamic = [
  "version",
]
dependencies = [
  "celery",
  "cryptography",
  "django",
  "django-admin-extra-buttons",
  "django-constance",
  "django-countries",
  "django-picklefield",
  "pyjwt",
  "requests",
  "social-auth-app-django",
]

urls.Homepage = "https://github.com/unicef/unicef-security"

[dependency-groups]
dev = [
  "django-regex",
  "django-webtest",
  "factory-boy",
  "flake8",
  "httpretty",
  "isort",
  "mock",
  "pre-commit",
  "pytest",
  "pytest-cov",
  "pytest-django",
  "pytest-echo",
  "pytest-factoryboy",
  "requests-mock",
  "responses",
  "tox",
  "unittest2",
  "urllib3<2",         # https://github.com/python-social-auth/social-core/pull/1063/files
  "vcrpy",
]

[tool.hatch]
build.hooks.vcs.version-file = "src/unicef_security/version.py"
version.source = "vcs"
raw-options = { root = "../.." }

[tool.hatch.build.targets.sdist]
ignore-vcs = true
include = [
  "src/unicef_security/**/*.*",
]

[tool.hatch.build.targets.wheel]
packages = [ "src/unicef_security" ]

[uv]
package = true

[tool.nitpick]
style = [
  "github://unicef/hope-code-conventions@main/django/django.toml",
]
cache = "1 day"

[tool.uv]
package = true
