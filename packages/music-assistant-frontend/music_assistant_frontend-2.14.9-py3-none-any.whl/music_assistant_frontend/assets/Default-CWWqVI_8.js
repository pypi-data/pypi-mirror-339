import{B as be}from"./Button-VrwZ27wP.js";import{_ as Da,s as ge,c as I,a as Ee,o as Le,w as ae,b as Fe,C as Na,u as De,d as mt,e as Wa,g as ve,p as ye,f as vt,h as at,i as yt,j as He,t as ee,k as pt,l as ft,m as ht,n as Oa,q as lt,r as it,v as da,x as L,y as Ha,z as gt,A as pe,B as u,D as Z,E as Fa,V as Ke,F as Ua,T as Ya,G,H as Ue,I as Ae,J as bt,K as _t,L as Xa,M as Ga,N as Qe,O as wt,P as ca,Q as U,R as C,S as d,U as y,W as $,X as Ve,Y as Ze,Z as _,$ as ne,a0 as e,a1 as Me,a2 as t,a3 as xe,a4 as Q,a5 as W,a6 as Ft,a7 as Je,a8 as oe,a9 as k,aa as ot,ab as V,ac as ja,ad as Ka,ae as Za,af as Ja,ag as el,ah as ma,ai as va,aj as ya,ak as tl,al as pa,am as J,an as te,ao as F,ap as Pt,aq as Ne,ar as le,as as nt,at as Ut,au as Yt,av as Be,aw as ue,ax as st,ay as We,az as al,aA as ll,aB as fa,aC as il,aD as ol,aE as ha,aF as nl,aG as ga,aH as sl,aI as rl,aJ as ba,aK as ul,aL as dl,aM as cl,aN as ml,aO as vl,aP as yl,aQ as Xt,aR as pl,aS as fl,aT as et,aU as hl,aV as Ye,aW as Xe,aX as tt,aY as rt,aZ as Re,a_ as Ce,a$ as _a,b0 as wa,b1 as Pa,b2 as Gt,b3 as jt,b4 as gl,b5 as bl,b6 as _l,b7 as je,b8 as wl,b9 as Kt,ba as Pl,bb as Zt,bc as Jt,bd as kl,be as ea,bf as Ie,bg as ka,bh as Cl,bi as Il,bj as Vl,bk as Ql}from"./index-Bojm1y6E.js";import{D as Sl}from"./constants-BXWEQHoz.js";import{u as kt,m as Ct,a as $l,c as Tl,b as xl}from"./layout-sM8mqvOQ.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as Oe}from"./MediaItemThumb-DwfpR_T2.js";import{T as Ml,V as ut}from"./Toolbar-vNnvoS93.js";import{V as Ca}from"./VDialog-VPA5hIjU.js";import{V as Bl,a as El}from"./VInfiniteScroll-B5B1Lkam.js";import{V as Ll,a as ke,m as Al,b as zl}from"./VBtn-CM67b0_Y.js";import{V as ql}from"./VSlider-BrE0myVH.js";import{L as Rl}from"./ListItem-MrZ2Q4nd.js";import{P as It,g as Dl,V as Nl,a as Ge}from"./PlayerCard-DHqAqs_k.js";import{M as de,a as dt}from"./marquee_text_sync-DVmdTJDu.js";import{V as Wl}from"./VToolbar-CsJqzZb6.js";import{V as Ol}from"./VVirtualScroll-BQnsxKKQ.js";import{V as Hl,a as ta,b as aa,c as la}from"./VExpansionPanels-BIg5Bg0X.js";import"./VCheckboxBtn-Y3GXXKWE.js";import"./VCheckbox-CBfgSyhm.js";const Fl=fe(Da,[["__scopeId","data-v-f0157380"]]),Ul=""+new URL("icon-BQHr-CTb.png",import.meta.url).href;function Yl(a){let{rootEl:l,isSticky:n,layoutItemStyles:o}=a;const s=ge(!1),i=ge(0),r=I(()=>{const v=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[v]:Ee(i.value)}:{top:o.value.top}]});Le(()=>{ae(n,v=>{v?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),Fe(()=>{window.removeEventListener("scroll",p)});let c=0;function p(){const v=c>window.scrollY?"up":"down",w=l.value.getBoundingClientRect(),g=parseFloat(o.value.top??0),m=window.scrollY-Math.max(0,i.value-g),b=w.height+Math.max(i.value,g)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;w.height<window.innerHeight-g?(s.value="top",i.value=g):v==="up"&&s.value==="bottom"||v==="down"&&s.value==="top"?(i.value=window.scrollY+w.top-h,s.value=!0):v==="down"&&b<=0?(i.value=0,s.value="bottom"):v==="up"&&m<=0&&(h?s.value!=="top"&&(i.value=-m+h+g,s.value="top"):(i.value=w.top+m,s.value="top")),c=window.scrollY}return{isStuck:s,stickyStyles:r}}const Xl=100,Gl=20;function ia(a){return(a<0?-1:1)*Math.sqrt(Math.abs(a))*1.41421356237}function oa(a){if(a.length<2)return 0;if(a.length===2)return a[1].t===a[0].t?0:(a[1].d-a[0].d)/(a[1].t-a[0].t);let l=0;for(let n=a.length-1;n>0;n--){if(a[n].t===a[n-1].t)continue;const o=ia(l),s=(a[n].d-a[n-1].d)/(a[n].t-a[n-1].t);l+=(s-o)*Math.abs(s),n===a.length-1&&(l*=.5)}return ia(l)*1e3}function jl(){const a={};function l(s){Array.from(s.changedTouches).forEach(i=>{(a[i.identifier]??(a[i.identifier]=new Na(Gl))).push([s.timeStamp,i])})}function n(s){Array.from(s.changedTouches).forEach(i=>{delete a[i.identifier]})}function o(s){var v;const i=(v=a[s])==null?void 0:v.values().reverse();if(!i)throw new Error(`No samples for touch id ${s}`);const r=i[0],c=[],p=[];for(const w of i){if(r[0]-w[0]>Xl)break;c.push({t:w[0],d:w[1].clientX}),p.push({t:w[0],d:w[1].clientY})}return{x:oa(c),y:oa(p),get direction(){const{x:w,y:g}=this,[m,b]=[Math.abs(w),Math.abs(g)];return m>b&&w>=0?"right":m>b&&w<=0?"left":b>m&&g>=0?"down":b>m&&g<=0?"up":Kl()}}}return{addMovement:l,endTouch:n,getVelocity:o}}function Kl(){throw new Error}function Zl(a){let{el:l,isActive:n,isTemporary:o,width:s,touchless:i,position:r}=a;Le(()=>{window.addEventListener("touchstart",R,{passive:!0}),window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),Fe(()=>{window.removeEventListener("touchstart",R),window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",z)});const c=I(()=>["left","right"].includes(r.value)),{addMovement:p,endTouch:v,getVelocity:w}=jl();let g=!1;const m=ge(!1),b=ge(0),h=ge(0);let T;function A(x,M){return(r.value==="left"?x:r.value==="right"?document.documentElement.clientWidth-x:r.value==="top"?x:r.value==="bottom"?document.documentElement.clientHeight-x:Te())-(M?s.value:0)}function B(x){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const q=r.value==="left"?(x-h.value)/s.value:r.value==="right"?(document.documentElement.clientWidth-x-h.value)/s.value:r.value==="top"?(x-h.value)/s.value:r.value==="bottom"?(document.documentElement.clientHeight-x-h.value)/s.value:Te();return M?Math.max(0,Math.min(1,q)):q}function R(x){if(i.value)return;const M=x.changedTouches[0].clientX,q=x.changedTouches[0].clientY,N=25,P=r.value==="left"?M<N:r.value==="right"?M>document.documentElement.clientWidth-N:r.value==="top"?q<N:r.value==="bottom"?q>document.documentElement.clientHeight-N:Te(),f=n.value&&(r.value==="left"?M<s.value:r.value==="right"?M>document.documentElement.clientWidth-s.value:r.value==="top"?q<s.value:r.value==="bottom"?q>document.documentElement.clientHeight-s.value:Te());(P||f||n.value&&o.value)&&(T=[M,q],h.value=A(c.value?M:q,n.value),b.value=B(c.value?M:q),g=h.value>-20&&h.value<80,v(x),p(x))}function Y(x){const M=x.changedTouches[0].clientX,q=x.changedTouches[0].clientY;if(g){if(!x.cancelable){g=!1;return}const P=Math.abs(M-T[0]),f=Math.abs(q-T[1]);(c.value?P>f&&P>3:f>P&&f>3)?(m.value=!0,g=!1):(c.value?f:P)>3&&(g=!1)}if(!m.value)return;x.preventDefault(),p(x);const N=B(c.value?M:q,!1);b.value=Math.max(0,Math.min(1,N)),N>1?h.value=A(c.value?M:q,!0):N<0&&(h.value=A(c.value?M:q,!1))}function z(x){if(g=!1,!m.value)return;p(x),m.value=!1;const M=w(x.changedTouches[0].identifier),q=Math.abs(M.x),N=Math.abs(M.y);(c.value?q>N&&q>400:N>q&&N>3)?n.value=M.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||Te()):n.value=b.value>.5}const D=I(()=>m.value?{transform:r.value==="left"?`translateX(calc(-100% + ${b.value*s.value}px))`:r.value==="right"?`translateX(calc(100% - ${b.value*s.value}px))`:r.value==="top"?`translateY(calc(-100% + ${b.value*s.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${b.value*s.value}px))`:Te(),transition:"none"}:void 0);return De(m,()=>{var q,N;const x=((q=l.value)==null?void 0:q.style.transform)??null,M=((N=l.value)==null?void 0:N.style.transition)??null;mt(()=>{var P,f,E,O;(f=l.value)==null||f.style.setProperty("transform",((P=D.value)==null?void 0:P.transform)||"none"),(O=l.value)==null||O.style.setProperty("transition",((E=D.value)==null?void 0:E.transition)||null)}),Wa(()=>{var P,f;(P=l.value)==null||P.style.setProperty("transform",x),(f=l.value)==null||f.style.setProperty("transition",M)})}),{isDragging:m,dragProgress:b,dragStyles:D}}function Te(){throw new Error}const Jl=["start","end","left","right","top","bottom"],ei=ye({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:a=>Jl.includes(a)},sticky:Boolean,...wt(),...Qe(),...Ga(),...Xa({mobile:null}),..._t(),...Ct(),...bt(),...Ae({tag:"nav"}),...Ue()},"VNavigationDrawer"),Ia=ve()({name:"VNavigationDrawer",props:ei(),emits:{"update:modelValue":a=>!0,"update:rail":a=>!0},setup(a,l){let{attrs:n,emit:o,slots:s}=l;const{isRtl:i}=vt(),{themeClasses:r}=at(a),{borderClasses:c}=yt(a),{backgroundColorClasses:p,backgroundColorStyles:v}=He(ee(a,"color")),{elevationClasses:w}=pt(a),{displayClasses:g,mobile:m}=ft(a),{roundedClasses:b}=ht(a),h=Oa(),T=lt(a,"modelValue",null,H=>!!H),{ssrBootStyles:A}=it(),{scopeId:B}=da(),R=L(),Y=ge(!1),{runOpenDelay:z,runCloseDelay:D}=Fa(a,H=>{Y.value=H}),x=I(()=>a.rail&&a.expandOnHover&&Y.value?Number(a.width):Number(a.rail?a.railWidth:a.width)),M=I(()=>Ha(a.location,i.value)),q=I(()=>a.persistent),N=I(()=>!a.permanent&&(m.value||a.temporary)),P=I(()=>a.sticky&&!N.value&&M.value!=="bottom");De(()=>a.expandOnHover&&a.rail!=null,()=>{ae(Y,H=>o("update:rail",!H))}),De(()=>!a.disableResizeWatcher,()=>{ae(N,H=>!a.permanent&&ca(()=>T.value=!H))}),De(()=>!a.disableRouteWatcher&&!!h,()=>{ae(h.currentRoute,()=>N.value&&(T.value=!1))}),ae(()=>a.permanent,H=>{H&&(T.value=!0)}),a.modelValue==null&&!N.value&&(T.value=a.permanent||!m.value);const{isDragging:f,dragProgress:E}=Zl({el:R,isActive:T,isTemporary:N,width:x,touchless:ee(a,"touchless"),position:M}),O=I(()=>{const H=N.value?0:a.rail&&a.expandOnHover?Number(a.railWidth):x.value;return f.value?H*E.value:H}),{layoutItemStyles:K,layoutItemScrimStyles:X}=kt({id:a.name,order:I(()=>parseInt(a.order,10)),position:M,layoutSize:O,elementSize:x,active:I(()=>T.value||f.value),disableTransitions:I(()=>f.value),absolute:I(()=>a.absolute||P.value&&typeof ie.value!="string")}),{isStuck:ie,stickyStyles:he}=Yl({rootEl:R,isSticky:P,layoutItemStyles:K}),ce=He(I(()=>typeof a.scrim=="string"?a.scrim:null)),me=I(()=>({...f.value?{opacity:E.value*.2,transition:"none"}:void 0,...X.value}));return gt({VList:{bgColor:"transparent"}}),pe(()=>{const H=s.image||a.image;return u(G,null,[u(a.tag,Z({ref:R,onMouseenter:z,onMouseleave:D,class:["v-navigation-drawer",`v-navigation-drawer--${M.value}`,{"v-navigation-drawer--expand-on-hover":a.expandOnHover,"v-navigation-drawer--floating":a.floating,"v-navigation-drawer--is-hovering":Y.value,"v-navigation-drawer--rail":a.rail,"v-navigation-drawer--temporary":N.value,"v-navigation-drawer--persistent":q.value,"v-navigation-drawer--active":T.value,"v-navigation-drawer--sticky":P.value},r.value,p.value,c.value,g.value,w.value,b.value,a.class],style:[v.value,K.value,A.value,he.value,a.style]},B,n),{default:()=>{var _e,ze,qe;return[H&&u("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?u(Ua,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:a.image}}},s.image):u(Ke,{key:"image-img",alt:"",cover:!0,height:"inherit",src:a.image},null)]),s.prepend&&u("div",{class:"v-navigation-drawer__prepend"},[(_e=s.prepend)==null?void 0:_e.call(s)]),u("div",{class:"v-navigation-drawer__content"},[(ze=s.default)==null?void 0:ze.call(s)]),s.append&&u("div",{class:"v-navigation-drawer__append"},[(qe=s.append)==null?void 0:qe.call(s)])]}}),u(Ya,{name:"fade-transition"},{default:()=>[N.value&&(f.value||T.value)&&!!a.scrim&&u("div",Z({class:["v-navigation-drawer__scrim",ce.backgroundColorClasses.value],style:[me.value,ce.backgroundColorStyles.value],onClick:()=>{q.value||(T.value=!1)}},B),null)]})])}),{isStuck:ie}}}),Va=function(){const a=localStorage.getItem("frontend.settings.menu_items"),l=a?a.split(","):Sl,n=[];for(const o of l)o==="home"&&n.push({label:"home",icon:"mdi-home-outline",path:"/home",isLibraryNode:!1}),o==="search"&&n.push({label:"search",icon:"mdi-magnify",path:"/search",isLibraryNode:!1}),o==="artists"&&n.push({label:"artists",icon:"mdi-account-outline",path:"/artists",isLibraryNode:!0,hidden:t.libraryArtistsCount===0}),o==="albums"&&n.push({label:"albums",icon:"mdi-album",path:"/albums",isLibraryNode:!0,hidden:t.libraryAlbumsCount===0}),o==="tracks"&&n.push({label:"tracks",icon:"mdi-music-note",path:"/tracks",isLibraryNode:!0,hidden:t.libraryTracksCount===0}),o==="playlists"&&n.push({label:"playlists",icon:"mdi-playlist-play",path:"/playlists",isLibraryNode:!0,hidden:t.libraryPlaylistsCount===0}),o==="podcasts"&&n.push({label:"podcasts",icon:"mdi-podcast",path:"/podcasts",isLibraryNode:!0,hidden:t.libraryPodcastsCount===0}),o==="audiobooks"&&n.push({label:"audiobooks",icon:"mdi-book-play-outline",path:"/audiobooks",isLibraryNode:!0,hidden:t.libraryAudiobooksCount===0}),o==="radios"&&n.push({label:"radios",icon:"mdi-access-point",path:"/radios",isLibraryNode:!0,hidden:t.libraryRadiosCount===0}),o==="browse"&&n.push({label:"browse",icon:"mdi-folder-outline",path:"/browse",isLibraryNode:!0}),o==="settings"&&n.push({label:"settings.settings",icon:"mdi-cog-outline",path:"/settings",isLibraryNode:!0});return n},ti=U({__name:"DrawerNavigation",setup(a){const l=L(localStorage.getItem("show_navigation_menu")==="true"),n=Va();return ae(()=>l.value,o=>{localStorage.setItem("show_navigation_menu",o.toString())}),(o,s)=>(d(),C(Ia,{app:"",rail:!l.value,width:280,permanent:""},{default:y(()=>[u(Ve,{style:{height:"55px"},active:!1},{prepend:y(()=>s[1]||(s[1]=[$("img",{class:"logo_icon",size:"40",src:Ul},null,-1)])),title:y(()=>s[2]||(s[2]=[$("div",{class:"logo_text"},"Music Assistant",-1)])),_:1}),u(Ze),u(Me,{lines:"one",density:"compact",nav:""},{default:y(()=>[(d(!0),_(G,null,ne(e(n).filter(i=>!i.hidden),i=>(d(),C(Ve,{key:i.path,nav:"",density:"compact",height:15,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1}),u(be,{nav:"",height:15,width:40,style:{position:"relative",float:"right",right:"10px",top:"20px"},ripple:!1,icon:l.value?"mdi-chevron-left":"mdi-chevron-right",title:o.$t("tooltip.show_menu"),onClick:s[0]||(s[0]=i=>l.value=!l.value)},null,8,["icon","title"])]),_:1},8,["rail"]))}}),ai=fe(ti,[["__scopeId","data-v-3b429b32"]]),li={class:"media-thumb"},ii={style:{"margin-left":"-10px","padding-right":"5px"}},oi=U({__name:"AddToPlaylistDialog",setup(a){const l=L(!1),n=L([]),o=L([]),s=L(),i=L([]);Le(()=>{xe.on("playlistdialog",async w=>{l.value=!0,i.value=w.items,s.value=w.parentItem,await r()}),Fe(()=>{xe.off("playlistdialog")})});const r=async function(){n.value=[],o.value=[];const w=await Q.getLibraryPlaylists();let g=i.value.length?i.value[0]:void 0;if(g){"provider_mappings"in g||(g=await Q.getItem(g.media_type,g.item_id,g.provider));for(const m of w){if(!m.provider_mappings.filter(h=>h.available).length||!m.is_editable||s.value&&s.value.media_type===W.PLAYLIST&&m.item_id===s.value.item_id)continue;const b=Q.providers[m.provider_mappings[0].provider_instance];b&&(b.domain=="builtin"||b.is_streaming_provider||g!=null&&g.provider_mappings.filter(h=>h.provider_instance==b.instance_id).length)&&n.value.push(m)}for(const m of Object.values(Q.providers))m.supported_features.includes(Ft.PLAYLIST_CREATE)&&m.supported_features.includes(Ft.PLAYLIST_TRACKS_EDIT)&&(m.domain=="builtin"||m.is_streaming_provider||g!=null&&g.provider_mappings.filter(b=>b.provider_instance==m.instance_id).length)&&o.value.push(m.instance_id)}},c=async function(w){Q.addPlaylistTracks(w.item_id,i.value.map(g=>g.uri)),v(),t.activeAlert={type:ja.INFO,message:oe("background_task_added"),persistent:!1}},p=async function(w){const g=prompt(oe("new_playlist_name"));if(!g)return;const m=await Q.createPlaylist(g,w);c(m)},v=function(){l.value=!1};return(w,g)=>(d(),C(Ca,{modelValue:l.value,"onUpdate:modelValue":[g[0]||(g[0]=m=>l.value=m),g[1]||(g[1]=m=>{e(t).dialogActive=m})],fullscreen:"",transition:"dialog-bottom-transition"},{default:y(()=>[u(Je,null,{default:y(()=>[u(Ml,{icon:"mdi-playlist-plus",title:e(oe)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:v}]},null,8,["title","menu-items"]),u(Ze),g[4]||(g[4]=$("br",null,null,-1)),u(Me,null,{default:y(()=>[(d(!0),_(G,null,ne(n.value,m=>(d(),_("div",{key:m.item_id},[u(Ve,{onClick:b=>c(m)},{prepend:y(()=>[$("div",li,[u(Oe,{item:m,size:50},null,8,["item"])])]),title:y(()=>[$("div",null,V(m.name),1)]),subtitle:y(()=>[$("div",null,V(m.owner),1)]),append:y(()=>[m.provider_mappings?(d(),C(ot,{key:0,domain:m.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):k("",!0)]),_:2},1032,["onClick"])]))),128)),g[2]||(g[2]=$("div",{style:{height:"30px"}},null,-1)),u(Ze),g[3]||(g[3]=$("div",{style:{height:"30px"}},null,-1)),(d(!0),_(G,null,ne(o.value,m=>(d(),_("div",{key:m},[u(Ve,{onClick:b=>p(m)},{prepend:y(()=>[$("div",ii,[u(ot,{domain:e(Q).providers[m].domain,size:50},null,8,["domain"])])]),title:y(()=>[$("div",null,V(e(oe)("new_playlist")),1)]),subtitle:y(()=>[$("div",null,V(e(oe)("create_playlist_on",[e(Q).providers[m].name])),1)]),append:y(()=>[u(ot,{domain:e(Q).providers[m].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ni=fe(oi,[["__scopeId","data-v-bd014719"]]),si=ye({scrollable:Boolean,...Qe(),...Za(),...Ae({tag:"main"})},"VMain"),ri=ve()({name:"VMain",props:si(),setup(a,l){let{slots:n}=l;const{dimensionStyles:o}=Ka(a),{mainStyles:s}=$l(),{ssrBootStyles:i}=it();return pe(()=>u(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[s.value,i.value,o.value,a.style]},{default:()=>{var r,c;return[a.scrollable?u("div",{class:"v-main__scroller"},[(r=n.default)==null?void 0:r.call(n)]):(c=n.default)==null?void 0:c.call(n)]}})),{}}}),na=U({__name:"View",setup(a){return(l,n)=>{const o=el("router-view");return d(),C(ri,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:y(()=>{var s,i,r;return[e(t).navigationMenuStyle=="vertical"&&!e(t).frameless?(d(),C(ai,{key:0})):k("",!0),u(o,null,{default:y(({Component:c})=>[(d(),C(Ja(c)))]),_:1}),u(ni),u(Fl),u(Bl,{"model-value":e(t).activeAlert!==void 0,color:((s=e(t).activeAlert)==null?void 0:s.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(r=e(t).activeAlert)!=null&&r.persistent?-1:5e3,"z-index":"999999",style:{"z-index":"999999"},"onUpdate:modelValue":n[0]||(n[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),ui=ye({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...wt(),...Qe(),...pa(),..._t(),...bt(),...Ct({name:"bottom-navigation"}),...Ae({tag:"header"}),...tl({selectedClass:"v-btn--selected"}),...Ue()},"VBottomNavigation"),di=ve()({name:"VBottomNavigation",props:ui(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,l){let{slots:n}=l;const{themeClasses:o}=ma(),{borderClasses:s}=yt(a),{backgroundColorClasses:i,backgroundColorStyles:r}=He(ee(a,"bgColor")),{densityClasses:c}=va(a),{elevationClasses:p}=pt(a),{roundedClasses:v}=ht(a),{ssrBootStyles:w}=it(),g=I(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),m=lt(a,"active",a.active),{layoutItemStyles:b}=kt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>m.value?g.value:0),elementSize:g,active:m,absolute:ee(a,"absolute")});return ya(a,Ll),gt({VBtn:{baseColor:ee(a,"baseColor"),color:ee(a,"color"),density:ee(a,"density"),stacked:I(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),pe(()=>u(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},o.value,i.value,s.value,c.value,p.value,v.value,a.class],style:[r.value,b.value,{height:Ee(g.value)},w.value,a.style]},{default:()=>[n.default&&u("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),ci={class:"menuButton"},mi={class:"menuButton"},vi={class:"menuButton"},yi=U({__name:"BottomNavigation",props:{height:{}},setup(a){const l=Va(),n=L(!1);return(o,s)=>(d(),C(di,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"},role:"navigation"},{default:y(()=>[e(J)("tablet")?(d(!0),_(G,{key:0},ne(e(l),i=>(d(),C(ke,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:y(()=>[u(te,{size:"xx-large"},{default:y(()=>[F(V(i.icon),1)]),_:2},1024),$("span",ci,V(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)):(d(),_(G,{key:1},[(d(!0),_(G,null,ne(e(l).filter(i=>!i.isLibraryNode),i=>(d(),C(ke,{key:i.label,to:i.path,"aria-label":o.$t(i.label),tabindex:"0"},{default:y(()=>[u(te,{size:"xx-large"},{default:y(()=>[F(V(i.icon),1)]),_:2},1024),$("span",mi,V(o.$t(i.label)),1)]),_:2},1032,["to","aria-label"]))),128)),u(Pt,null,{activator:y(({props:i})=>[u(ke,Z(i,{"aria-haspopup":"true","aria-expanded":n.value.toString(),"aria-label":"Open library menu"}),{default:y(()=>[u(te,{size:"xx-large"},{default:y(()=>s[0]||(s[0]=[F("mdi-bookshelf")])),_:1}),$("span",vi,V(o.$t("library")),1)]),_:2},1040,["aria-expanded"])]),default:y(()=>[u(Me,null,{default:y(()=>[(d(!0),_(G,null,ne(e(l).filter(i=>i.isLibraryNode),i=>(d(),C(Ve,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})],64))]),_:1},8,["height"]))}}),pi=fe(yi,[["__scopeId","data-v-5c8e33d1"]]),fi={style:{width:"auto"}},hi={key:0,style:{width:"100%"}},gi=["onClick"],bi={key:0,class:"time-text-row"},_i={class:"text-caption time-text-right"},wi=U({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1},color:{default:void 0}},setup(a){const l=L(!1),n=L(!0),o=L(!1),s=L(0),i=L(0),r=I(()=>t.curQueueItem?l.value?`-${Ne(t.curQueueItem.duration-p.value)}`:`${Ne(p.value)}`:"0:00"),c=I(()=>{var h;if(!t.curQueueItem||!t.curQueueItem.duration||((h=t.curQueueItem.media_item)==null?void 0:h.media_type)==W.RADIO)return"";const b=t.curQueueItem.duration;return Ne(b)}),p=I(()=>o.value?(i.value=s.value,s.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0),v=I(()=>{var h,T,A;const b={};return(A=(T=(h=t.curQueueItem)==null?void 0:h.media_item)==null?void 0:T.metadata)!=null&&A.chapters&&t.curQueueItem.media_item.metadata.chapters.forEach(B=>{b[B.start]=B.name}),b});ae(p,b=>{o.value||(s.value=b)});const w=function(){o.value=!0},g=()=>{o.value=!1,!o.value&&t.activePlayer&&Q.playerCommandSeek(t.activePlayer.player_id,Math.round(i.value))},m=function(b){var h,T,A;if((A=(T=(h=t.curQueueItem)==null?void 0:h.media_item)==null?void 0:T.metadata)!=null&&A.chapters){for(const B of t.curQueueItem.media_item.metadata.chapters)if(B.start==b){Q.playMedia(t.curQueueItem.media_item.uri,void 0,void 0,B.position.toString());return}}};return(b,h)=>{var T,A;return d(),_("div",fi,[e(t).activePlayerQueue?(d(),_("div",hi,[u(ql,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=B=>s.value=B),disabled:!e(t).curQueueItem||!e(t).curQueueItem.media_item||!e(t).curQueueItem.duration||e(t).curQueueItem.media_item.media_type==e(W).RADIO||((T=e(t).activePlayer)==null?void 0:T.powered)==!1,style:{width:"100%"},min:0,max:(A=e(t).curQueueItem)==null?void 0:A.duration,"hide-details":"","track-size":2,"thumb-size":n.value?0:10,"show-ticks":v.value?"always":!1,ticks:v.value,"tick-size":"4",color:b.color,onTouchstart:h[1]||(h[1]=B=>n.value=!1),onTouchend:h[2]||(h[2]=B=>n.value=!0),onMouseenter:h[3]||(h[3]=B=>n.value=!1),onMouseleave:h[4]||(h[4]=B=>n.value=!0),onStart:w,onEnd:g},{"tick-label":y(({tick:B})=>[b.showLabels&&!n.value&&Object.values(v.value).length<6?(d(),_("a",{key:0,class:"text-caption",onClick:R=>m(B.value)},V(B.label),9,gi)):k("",!0)]),_:1},8,["modelValue","disabled","max","thumb-size","show-ticks","ticks","color"]),b.showLabels?(d(),_("div",bi,[$("div",{class:"text-caption time-text-left",onClick:h[5]||(h[5]=B=>l.value?l.value=!1:l.value=!0)},V(r.value),1),$("div",_i,V(c.value),1)])):k("",!0)])):k("",!0)])}}}),Qa=fe(wi,[["__scopeId","data-v-5386447e"]]),Pi=U({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["click"],setup(a,{emit:l}){const n=()=>{if(o.value){const i=o.value.offsetWidth,r=o.value.offsetHeight,c=Math.min(i,r);s.value.$el.style.fontSize=`${c}px`}},o=L(),s=L();return Le(()=>{n(),window.addEventListener("resize",n)}),Fe(()=>{window.removeEventListener("resize",n)}),(i,r)=>(d(),_("div",{ref_key:"responsiveIconHolder",ref:o,class:nt([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:le({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:r[0]||(r[0]=c=>i.disabled?c.preventDefault():i.$emit("click",c))},[u(ut,{"model-value":i.badge==!0,color:"error",dot:""},{default:y(()=>[i.type==="icon"?(d(),C(te,{key:0,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Ut({_:2},[ne(i.$slots,(c,p)=>({name:p,fn:y(()=>[Yt(i.$slots,p,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(d(),C(te,{key:1,ref_key:"responsiveIcon",ref:s,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Ut({_:2},[ne(i.$slots,(c,p)=>({name:p,fn:y(()=>[Yt(i.$slots,p,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):k("",!0)]),_:3},8,["model-value"])],6))}}),Se=fe(Pi,[["__scopeId","data-v-2c9253ab"]]),Sa=U({__name:"RepeatBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(d(),C(Se,Z({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Be)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.repeat_mode==e(ue).OFF,null],[l.playerQueue.repeat_mode==e(ue).ALL,"primary"],[l.playerQueue.repeat_mode==e(ue).ONE,"primary"]]),icon:e(Be)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.repeat_mode==e(ue).OFF,"mdi-repeat-off"],[l.playerQueue.repeat_mode==e(ue).ALL,"mdi-repeat"],[l.playerQueue.repeat_mode==e(ue).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(Q).queueCommandRepeat(l.playerQueue.queue_id||"",e(Be)(null,[[l.playerQueue.repeat_mode==e(ue).OFF,e(ue).ONE],[l.playerQueue.repeat_mode==e(ue).ALL,e(ue).OFF],[l.playerQueue.repeat_mode==e(ue).ONE,e(ue).ALL]])))}),null,16,["disabled","color","icon"])):k("",!0)}}}),$a=U({__name:"ShuffleBtn",props:{playerQueue:{},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(l,n)=>{var o,s;return l.isVisible&&l.playerQueue?(d(),C(Se,Z({key:0},l.icon,{disabled:!l.playerQueue.active||l.playerQueue.items==0,color:e(Be)((o=l.icon)==null?void 0:o.color,[[l.playerQueue.shuffle_enabled,"primary",""]]),icon:e(Be)((s=l.icon)==null?void 0:s.icon,[[l.playerQueue.shuffle_enabled,"mdi-shuffle"],[l.playerQueue.shuffle_enabled==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:n[0]||(n[0]=i=>e(Q).queueCommandShuffle(l.playerQueue.queue_id,!l.playerQueue.shuffle_enabled))}),null,16,["disabled","color","icon"])):k("",!0)}}}),Ta=U({__name:"PlayBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0},iconStyle:{default:"circle"}},setup(a){const l=a,n=I(()=>l.playerQueue?l.playerQueue.items>0:!1),o=I(()=>{var i;return!(!l.player||(i=l.playerQueue)!=null&&i.active||!l.player.current_media)}),s=I(()=>{var i;return((i=l.player)==null?void 0:i.state)==st.PLAYING?"mdi-pause":"mdi-play"});return(i,r)=>i.isVisible&&i.player?(d(),C(Se,Z({key:0},i.icon,{disabled:!n.value&&!o.value,icon:i.iconStyle?`${s.value}-${i.iconStyle}`:s.value,type:"btn",onClick:r[0]||(r[0]=c=>e(Q).playerCommandPlayPause(i.player.player_id))}),null,16,["disabled","icon"])):k("",!0)}}),xa=U({__name:"PreviousBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,n=I(()=>{var s,i;return!((s=l.playerQueue)!=null&&s.active)||!((i=l.playerQueue)!=null&&i.items)||!l.playerQueue.current_index?!1:l.playerQueue.current_index>0}),o=I(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(We.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(d(),C(Se,Z({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-previous-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(Q).playerCommandPrevious(s.player.player_id))}),null,16,["disabled"])):k("",!0)}}),Ma=U({__name:"NextBtn",props:{player:{},playerQueue:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=a,n=I(()=>{var s;return(s=l.playerQueue)!=null&&s.active?(l.playerQueue.current_index||0)<l.playerQueue.items-1:!1}),o=I(()=>{var s;return!l.player||(s=l.playerQueue)!=null&&s.active||!l.player.current_media?!1:l.player.supported_features.includes(We.NEXT_PREVIOUS)});return(s,i)=>s.isVisible&&s.player?(d(),C(Se,Z({key:0},s.icon,{disabled:!n.value&&!o.value,icon:"mdi-skip-next-outline",type:"btn",onClick:i[0]||(i[0]=r=>e(Q).playerCommandNext(s.player.player_id))}),null,16,["disabled"])):k("",!0)}}),ki={key:0,class:"player-controls"},Ci={key:0,class:"player-controls-elements"},Ii={key:1,class:"player-controls-elements"},Vi={key:2},Qi={key:3,class:"player-controls-elements"},Si={key:4,class:"player-controls-elements"},sa=U({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(l,n)=>{var o,s,i,r,c;return l.visibleComponents?(d(),_("div",ki,[l.visibleComponents&&((o=l.visibleComponents.shuffle)!=null&&o.isVisible)?(d(),_("div",Ci,[u($a,{"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.shuffle.icon},null,8,["player-queue","icon"])])):k("",!0),l.visibleComponents&&((s=l.visibleComponents.previous)!=null&&s.isVisible)?(d(),_("div",Ii,[u(xa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item",icon:l.visibleComponents.previous.icon},null,8,["player","player-queue","icon"])])):k("",!0),l.visibleComponents&&((i=l.visibleComponents.play)!=null&&i.isVisible)?(d(),_("div",Vi,[u(Ta,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","icon-style":l.visibleComponents.play.withCircle?"circle":"",icon:l.visibleComponents.play.icon},null,8,["player","player-queue","icon-style","icon"])])):k("",!0),l.visibleComponents&&((r=l.visibleComponents.next)!=null&&r.isVisible)?(d(),_("div",Qi,[u(Ma,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["player","player-queue","icon"])])):k("",!0),l.visibleComponents&&((c=l.visibleComponents.repeat)!=null&&c.isVisible)?(d(),_("div",Si,[u(Sa,{"player-queue":e(t).activePlayerQueue,icon:l.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["player-queue","icon"])])):k("",!0)])):k("",!0)}}}),Ba=U({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const l=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(n,o)=>{var s;return n.isVisible?(d(),C(Se,Z({key:0},n.icon,{disabled:!e(t).activePlayerId||e(t).showFullscreenPlayer&&!e(t).curQueueItem&&!e(t).showQueueItems,icon:"mdi-playlist-play",color:e(Be)((s=n.icon)==null?void 0:s.color,[[e(t).showFullscreenPlayer&&e(t).showQueueItems,"primary",""]]),type:"btn",onClick:l}),null,16,["disabled","color"])):k("",!0)}}}),Ea=U({__name:"SpeakerBtn",props:{color:{}},setup(a){return(l,n)=>(d(),C(be,{variant:"icon",ripple:!1,icon:"",onClick:n[0]||(n[0]=o=>e(t).showPlayersMenu=!0)},{default:y(()=>{var o;return[u(te,{color:l.color?l.color:"",size:24,icon:(o=e(t).activePlayer)!=null&&o.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),Vt=Symbol.for("vuetify:v-tabs"),$i=ye({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...fa(Al({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ct=ve()({name:"VTab",props:$i(),setup(a,l){let{slots:n,attrs:o}=l;const{textColorClasses:s,textColorStyles:i}=al(a,"sliderColor"),r=L(),c=L(),p=I(()=>a.direction==="horizontal"),v=I(()=>{var g,m;return((m=(g=r.value)==null?void 0:g.group)==null?void 0:m.isSelected.value)??!1});function w(g){var b,h;let{value:m}=g;if(m){const T=(h=(b=r.value)==null?void 0:b.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),A=c.value;if(!T||!A)return;const B=getComputedStyle(T).color,R=T.getBoundingClientRect(),Y=A.getBoundingClientRect(),z=p.value?"x":"y",D=p.value?"X":"Y",x=p.value?"right":"bottom",M=p.value?"width":"height",q=R[z],N=Y[z],P=q>N?R[x]-Y[x]:R[z]-Y[z],f=Math.sign(P)>0?p.value?"right":"bottom":Math.sign(P)<0?p.value?"left":"top":"center",O=(Math.abs(P)+(Math.sign(P)<0?R[M]:Y[M]))/Math.max(R[M],Y[M])||0,K=R[M]/Y[M]||0,X=1.5;il(A,{backgroundColor:[B,"currentcolor"],transform:[`translate${D}(${P}px) scale${D}(${K})`,`translate${D}(${P/X}px) scale${D}(${(O-1)/X+1})`,"none"],transformOrigin:Array(3).fill(f)},{duration:225,easing:ol})}}return pe(()=>{const g=ke.filterProps(a);return u(ke,Z({symbol:Vt,ref:r,class:["v-tab",a.class],style:a.style,tabindex:v.value?0:-1,role:"tab","aria-selected":String(v.value),active:!1},g,o,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":w}),{...n,default:()=>{var m;return u(G,null,[((m=n.default)==null?void 0:m.call(n))??a.text,!a.hideSlider&&u("div",{ref:c,class:["v-tab__slider",s.value],style:i.value},null)])}})}),ll({},r)}}),Ti=a=>{const{touchstartX:l,touchendX:n,touchstartY:o,touchendY:s}=a,i=.5,r=16;a.offsetX=n-l,a.offsetY=s-o,Math.abs(a.offsetY)<i*Math.abs(a.offsetX)&&(a.left&&n<l-r&&a.left(a),a.right&&n>l+r&&a.right(a)),Math.abs(a.offsetX)<i*Math.abs(a.offsetY)&&(a.up&&s<o-r&&a.up(a),a.down&&s>o+r&&a.down(a))};function xi(a,l){var o;const n=a.changedTouches[0];l.touchstartX=n.clientX,l.touchstartY=n.clientY,(o=l.start)==null||o.call(l,{originalEvent:a,...l})}function Mi(a,l){var o;const n=a.changedTouches[0];l.touchendX=n.clientX,l.touchendY=n.clientY,(o=l.end)==null||o.call(l,{originalEvent:a,...l}),Ti(l)}function Bi(a,l){var o;const n=a.changedTouches[0];l.touchmoveX=n.clientX,l.touchmoveY=n.clientY,(o=l.move)==null||o.call(l,{originalEvent:a,...l})}function Ei(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const l={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:n=>xi(n,l),touchend:n=>Mi(n,l),touchmove:n=>Bi(n,l)}}function Li(a,l){var c;const n=l.value,o=n!=null&&n.parent?a.parentElement:a,s=(n==null?void 0:n.options)??{passive:!0},i=(c=l.instance)==null?void 0:c.$.uid;if(!o||!i)return;const r=Ei(l.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=r,ha(r).forEach(p=>{o.addEventListener(p,r[p],s)})}function Ai(a,l){var i,r;const n=(i=l.value)!=null&&i.parent?a.parentElement:a,o=(r=l.instance)==null?void 0:r.$.uid;if(!(n!=null&&n._touchHandlers)||!o)return;const s=n._touchHandlers[o];ha(s).forEach(c=>{n.removeEventListener(c,s[c])}),delete n._touchHandlers[o]}const La={mounted:Li,unmounted:Ai},Aa=Symbol.for("vuetify:v-window"),za=Symbol.for("vuetify:v-window-group"),qa=ye({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Qe(),...Ae(),...Ue()},"VWindow"),ra=ve()({name:"VWindow",directives:{Touch:La},props:qa(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:n}=l;const{themeClasses:o}=at(a),{isRtl:s}=vt(),{t:i}=nl(),r=ya(a,za),c=L(),p=I(()=>s.value?!a.reverse:a.reverse),v=ge(!1),w=I(()=>{const z=a.direction==="vertical"?"y":"x",x=(p.value?!v.value:v.value)?"-reverse":"";return`v-window-${z}${x}-transition`}),g=ge(0),m=L(void 0),b=I(()=>r.items.value.findIndex(z=>r.selected.value.includes(z.id)));ae(b,(z,D)=>{const x=r.items.value.length,M=x-1;x<=2?v.value=z<D:z===M&&D===0?v.value=!0:z===0&&D===M?v.value=!1:v.value=z<D}),rl(Aa,{transition:w,isReversed:v,transitionCount:g,transitionHeight:m,rootRef:c});const h=I(()=>a.continuous||b.value!==0),T=I(()=>a.continuous||b.value!==r.items.value.length-1);function A(){h.value&&r.prev()}function B(){T.value&&r.next()}const R=I(()=>{const z=[],D={icon:s.value?a.nextIcon:a.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};z.push(h.value?n.prev?n.prev({props:D}):u(ke,D,null):u("div",null,null));const x={icon:s.value?a.prevIcon:a.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return z.push(T.value?n.next?n.next({props:x}):u(ke,x,null):u("div",null,null)),z}),Y=I(()=>a.touch===!1?a.touch:{...{left:()=>{p.value?A():B()},right:()=>{p.value?B():A()},start:D=>{let{originalEvent:x}=D;x.stopPropagation()}},...a.touch===!0?{}:a.touch});return pe(()=>ga(u(a.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},o.value,a.class],style:a.style},{default:()=>{var z,D;return[u("div",{class:"v-window__container",style:{height:m.value}},[(z=n.default)==null?void 0:z.call(n,{group:r}),a.showArrows!==!1&&u("div",{class:"v-window__controls"},[R.value])]),(D=n.additional)==null?void 0:D.call(n,{group:r})]}}),[[sl("touch"),Y.value]])),{group:r}}}),zi=ye({...fa(qa(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),qi=ve()({name:"VTabsWindow",props:zi(),emits:{"update:modelValue":a=>!0},setup(a,l){let{slots:n}=l;const o=ba(Vt,null),s=lt(a,"modelValue"),i=I({get(){var r;return s.value!=null||!o?s.value:(r=o.items.value.find(c=>o.selected.value.includes(c.id)))==null?void 0:r.value},set(r){s.value=r}});return pe(()=>{const r=ra.filterProps(a);return u(ra,Z({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),n)}),{}}}),Ra=ye({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Qe(),...vl(),...ml()},"VWindowItem"),ua=ve()({name:"VWindowItem",directives:{Touch:La},props:Ra(),emits:{"group:selected":a=>!0},setup(a,l){let{slots:n}=l;const o=ba(Aa),s=ul(a,za),{isBooted:i}=it();if(!o||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=ge(!1),c=I(()=>i.value&&(o.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function p(){!r.value||!o||(r.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function v(){var h;r.value||!o||(r.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=Ee((h=o.rootRef.value)==null?void 0:h.clientHeight)),o.transitionCount.value+=1)}function w(){p()}function g(h){r.value&&ca(()=>{!c.value||!r.value||!o||(o.transitionHeight.value=Ee(h.clientHeight))})}const m=I(()=>{const h=o.isReversed.value?a.reverseTransition:a.transition;return c.value?{name:typeof h!="string"?o.transition.value:h,onBeforeEnter:v,onAfterEnter:p,onEnterCancelled:w,onBeforeLeave:v,onAfterLeave:p,onLeaveCancelled:w,onEnter:g}:!1}),{hasContent:b}=dl(a,s.isSelected);return pe(()=>u(cl,{transition:m.value,disabled:!i.value},{default:()=>{var h;return[ga(u("div",{class:["v-window-item",s.selectedClass.value,a.class],style:a.style},[b.value&&((h=n.default)==null?void 0:h.call(n))]),[[yl,s.isSelected.value]])]}})),{groupItem:s}}}),Ri=ye({...Ra()},"VTabsWindowItem"),Di=ve()({name:"VTabsWindowItem",props:Ri(),setup(a,l){let{slots:n}=l;return pe(()=>{const o=ua.filterProps(a);return u(ua,Z({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",a.class],style:a.style}),n)}),{}}});function Ni(a){return a?a.map(l=>fl(l)?l:{text:l,value:l}):[]}const Wi=ye({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...pl({mandatory:"force",selectedClass:"v-tab-item--selected"}),...pa(),...Ae()},"VTabs"),Oi=ve()({name:"VTabs",props:Wi(),emits:{"update:modelValue":a=>!0},setup(a,l){let{attrs:n,slots:o}=l;const s=lt(a,"modelValue"),i=I(()=>Ni(a.items)),{densityClasses:r}=va(a),{backgroundColorClasses:c,backgroundColorStyles:p}=He(ee(a,"bgColor")),{scopeId:v}=da();return gt({VTab:{color:ee(a,"color"),direction:ee(a,"direction"),stacked:ee(a,"stacked"),fixed:ee(a,"fixedTabs"),sliderColor:ee(a,"sliderColor"),hideSlider:ee(a,"hideSlider")}}),pe(()=>{const w=Xt.filterProps(a),g=!!(o.window||a.items.length>0);return u(G,null,[u(Xt,Z(w,{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,c.value,a.class],style:[{"--v-tabs-height":Ee(a.height)},p.value,a.style],role:"tablist",symbol:Vt},v,n),{default:()=>{var m;return[((m=o.default)==null?void 0:m.call(o))??i.value.map(b=>{var h;return((h=o.tab)==null?void 0:h.call(o,{item:b}))??u(ct,Z(b,{key:b.text,value:b.value}),{default:o[`tab.${b.value}`]?()=>{var T;return(T=o[`tab.${b.value}`])==null?void 0:T.call(o,{item:b})}:void 0})})]}}),g&&u(qi,Z({modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,key:"tabs-window"},v),{default:()=>{var m;return[i.value.map(b=>{var h;return((h=o.item)==null?void 0:h.call(o,{item:b}))??u(Di,{value:b.value},{default:()=>{var T;return(T=o[`item.${b.value}`])==null?void 0:T.call(o,{item:b})}})}),(m=o.window)==null?void 0:m.call(o)]}})])}),{}}}),Hi=["onClick"],Fi={class:"main"},Ui={key:0,class:"main-media-details"},Yi={key:0,class:"main-media-details-image"},Xi={class:"main-media-details-track-info"},Gi={key:0},ji={key:0},Ki={key:11,style:{margin:"auto","padding-top":"20px"}},Zi={key:1,class:"main-queue-items"},Ji={class:"queue-items-scroll-box"},eo={class:"media-thumb listitem-media-thumb"},to={class:"d-flex"},ao={style:{"white-space":"nowrap"},class:"pr-1"},lo={key:0},io={key:0,style:{"margin-left":"50px"}},oo={key:0,class:"text-caption"},no={key:2,class:"main-queue-items"},so={class:"main-media-details-image main-media-details-image-alt"},ro={class:"player-bottom"},uo={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},co={class:"media-controls"},mo={key:0,class:"row",style:{"margin-left":"5%","margin-right":"5%"}},vo={key:1,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},yo=U({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{name:l}=ft(),n=a,o=new dt,s=L(-1),i=new dt,r=L([]),c=L(0),p=L(!1),v=I(()=>t.activePlayerQueue?r.value.slice(t.activePlayerQueue.current_index):[]),w=I(()=>t.activePlayerQueue?r.value.slice(0,t.activePlayerQueue.current_index).reverse():[]),g=I(()=>{switch(l.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),m=I(()=>{switch(l.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),b=I(()=>et.display.height.value>800),h=function(P){t.showFullscreenPlayer=!1,Gt.push({name:P.media_type,params:{itemId:P.item_id,provider:P.provider}})},T=function(P){t.globalSearchTerm=P,Gt.push({name:"search"}),t.showFullscreenPlayer=!1},A=function(P,f){var K,X,ie,he,ce,me,H;const E=r.value.indexOf(f),O=[{label:"play_now",labelArgs:[],action:()=>{R(f,"play_now")},icon:"mdi-play-circle-outline",disabled:E===((K=t.activePlayerQueue)==null?void 0:K.current_index)||E===((X=t.activePlayerQueue)==null?void 0:X.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{R(f,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:E<=(((ie=t.activePlayerQueue)==null?void 0:ie.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{R(f,"up")},icon:"mdi-arrow-up",disabled:E<=(((he=t.activePlayerQueue)==null?void 0:he.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{R(f,"down")},icon:"mdi-arrow-down",disabled:E<=(((ce=t.activePlayerQueue)==null?void 0:ce.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{R(f,"delete")},icon:"mdi-delete",disabled:E<=(((me=t.activePlayerQueue)==null?void 0:me.index_in_buffer)||0)}];((H=f==null?void 0:f.media_item)==null?void 0:H.media_type)==W.TRACK&&O.push({label:"show_info",labelArgs:[],action:()=>{h(f.media_item)},icon:"mdi-information-outline",disabled:!1}),xe.emit("contextmenu",{items:O,posX:P.clientX,posY:P.clientY})},B=function(P){t.activePlayer&&xe.emit("contextmenu",{items:Dl(t.activePlayer,t.activePlayerQueue),posX:P.clientX,posY:P.clientY})},R=function(P,f){var E,O,K,X,ie;!P||!t.activePlayerQueue||(f=="play_now"?Q.queueCommandPlayIndex((E=t.activePlayerQueue)==null?void 0:E.queue_id,P.queue_item_id):f=="move_next"?Q.queueCommandMoveNext((O=t.activePlayerQueue)==null?void 0:O.queue_id,P.queue_item_id):f=="up"?Q.queueCommandMoveUp((K=t.activePlayerQueue)==null?void 0:K.queue_id,P.queue_item_id):f=="down"?Q.queueCommandMoveDown((X=t.activePlayerQueue)==null?void 0:X.queue_id,P.queue_item_id):f=="delete"&&Q.queueCommandDelete((ie=t.activePlayerQueue)==null?void 0:ie.queue_id,P.queue_item_id))},Y=async function(){p.value=!0,r.value=[],await jt(100),p.value=!1},z=async function({done:P}){var K;if(!t.activePlayerQueue||t.activePlayerQueue.items==0){P("empty");return}if(r.value.length>=((K=t.activePlayerQueue)==null?void 0:K.items)){P("empty");return}const f=r.value.length,E=(t.activePlayerQueue.current_index||0)+50,O=await Q.getPlayerQueueItems(t.activePlayerQueue.queue_id,E,f);r.value.push(...O),O.length<50?P("empty"):P("ok")};Le(()=>{const P=Q.subscribe(hl.QUEUE_ITEMS_UPDATED,f=>{var E;f.object_id==((E=t.activePlayerQueue)==null?void 0:E.queue_id)&&(f.data,Y())});Fe(P)});const D=async function(P){var O;if(!((O=t.curQueueItem)!=null&&O.media_item))return;if(!t.curQueueItem.media_item.favorite){Q.toggleFavorite(t.curQueueItem.media_item);return}let f=t.curQueueItem.media_item;(f.provider!="library"||!("provider_mappings"in f))&&[W.ALBUM,W.ARTIST,W.AUDIOBOOK,W.PLAYLIST,W.PODCAST,W.RADIO,W.TRACK].includes(f.media_type)&&(f=await Q.getLibraryItem(f.media_type,f.item_id,f.provider)||f);const E=[];"favorite"in f&&f.favorite&&f.provider=="library"&&[W.ALBUM,W.ARTIST,W.AUDIOBOOK,W.PLAYLIST,W.PODCAST,W.RADIO,W.TRACK].includes(f.media_type)&&E.push({label:"favorites_remove",labelArgs:[],action:()=>{Q.removeItemFromFavorites(f.media_type,f.item_id),f.favorite=!1,t.curQueueItem.media_item.favorite=!1},icon:"mdi-heart"}),[W.ALBUM,W.ARTIST,W.AUDIOBOOK,W.PLAYLIST,W.PODCAST,W.RADIO,W.TRACK].includes(f.media_type)&&E.push({label:"add_playlist",labelArgs:[],action:()=>{xe.emit("playlistdialog",{items:[t.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}),xe.emit("contextmenu",{items:E,posX:P.clientX,posY:P.clientY})},x=function(){p.value=!0,jt(100).then(()=>{p.value=!1})},M=function(P,f){Q.playMedia(P.uri,gl.PLAY,void 0,f.position.toString())};ae(()=>t.activePlayerId,P=>{Y()},{immediate:!0});const q=L(void 0),N=L(void 0);return mt(()=>{const P=Ye("white"),f=Ye("black"),E=5,O=.05,K=et.theme.current.value.dark?n.colorPalette.darkColor||"#000":n.colorPalette.lightColor||"#fff";let X=Ye(K);const ie=P.contrast(X),he=f.contrast(X),ce=ie>=he;let me=ce?P:f,H=Math.max(ie,he);if(H<E){let _e=O;for(;H<E&&_e<=.5;)ce?X=X.darken(O):X=X.lighten(O),H=Ye(me).contrast(X),_e+=O}document.documentElement.style.setProperty("--text-color",me.hex()),q.value=me.hex(),N.value=X.hex()}),(P,f)=>(d(),C(Ca,{modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":f[12]||(f[12]=E=>e(t).showFullscreenPlayer=E),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:y(()=>[u(Je,{color:N.value},{default:y(()=>{var E,O,K,X,ie,he,ce,me,H,_e,ze,qe,Qt,St,$t,Tt,xt,Mt,Bt,Et,Lt,At,zt,qt,Rt,Dt,Nt,Wt,Ot;return[u(Wl,{class:"v-toolbar-default",color:"transparent"},{prepend:y(()=>[u(be,{icon:"",onClick:f[0]||(f[0]=S=>e(t).showFullscreenPlayer=!1)},{default:y(()=>[u(te,{icon:"mdi-chevron-down"})]),_:1})]),append:y(()=>{var S;return[(S=e(t).activePlayerQueue)!=null&&S.radio_source.length?(d(),C(Pt,{key:0,scrim:""},{activator:y(({props:j})=>[u(be,Z(j,{icon:""}),{default:y(()=>[u(te,{color:"accent",icon:"mdi-radio-tower"})]),_:2},1040)]),default:y(()=>[u(Je,{title:e(oe)("queue_radio_enabled"),subtitle:e(oe)("queue_radio_based_on")},{text:y(()=>{var j;return[(d(!0),_(G,null,ne((j=e(t).activePlayerQueue)==null?void 0:j.radio_source,se=>(d(),_("div",{key:se.uri},[$("a",{onClick:$e=>h(se)},V(se.name),9,Hi)]))),128))]}),_:1},8,["title","subtitle"])]),_:1})):k("",!0),b.value?k("",!0):(d(),C(Ea,{key:1})),u(be,{icon:"",onClick:Xe(B,["stop"])},{default:y(()=>[u(te,{icon:"mdi-dots-vertical"})]),_:1})]}),_:1}),$("div",Fi,[e(J)("bp7")||!e(t).showQueueItems?(d(),_("div",Ui,[P.$vuetify.display.height>600?(d(),_("div",Yi,[((E=e(t).activePlayer)==null?void 0:E.powered)!=!1&&!((O=e(t).curQueueItem)!=null&&O.image)&&((X=(K=e(t).activePlayer)==null?void 0:K.current_media)!=null&&X.image_url)?(d(),C(Ke,{key:0,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:e(t).activePlayer.current_media.image_url},null,8,["src"])):((ie=e(t).activePlayer)==null?void 0:ie.powered)!=!1?(d(),C(Oe,{key:1,item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"},fallback:P.$vuetify.theme.current.dark?e(tt):e(rt)},null,8,["item","fallback"])):(d(),C(Ke,{key:2,style:{"max-width":"100%",width:"auto","border-radius":"4px"},src:P.$vuetify.theme.current.dark?e(tt):e(rt)},null,8,["src"]))])):k("",!0),$("div",Xi,[((he=e(t).activePlayer)==null?void 0:he.powered)==!1?(d(),C(Re,{key:0,style:le(`font-size: ${g.value};`)},{default:y(()=>{var S;return[F(V((S=e(t).activePlayer)==null?void 0:S.display_name),1)]}),_:1},8,["style"])):(ce=e(t).curQueueItem)!=null&&ce.media_item?(d(),C(Re,{key:1,style:le(`font-size: ${g.value};cursor:pointer;`),onClick:f[1]||(f[1]=S=>h(e(t).curQueueItem.media_item))},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>[F(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),_("span",Gi,"("+V(e(t).curQueueItem.media_item.version)+")",1)):k("",!0)]),_:1},8,["sync"])]),_:1},8,["style"])):!e(t).activePlayerQueue&&((H=(me=e(t).activePlayer)==null?void 0:me.current_media)!=null&&H.title)?(d(),C(Re,{key:2},{default:y(()=>{var S,j,se,$e;return[(j=(S=e(t).activePlayer)==null?void 0:S.current_media)!=null&&j.artist?(d(),_("div",ji,[u(de,{sync:e(o)},{default:y(()=>{var we,Pe;return[F(V((Pe=(we=e(t).activePlayer)==null?void 0:we.current_media)==null?void 0:Pe.artist),1)]}),_:1},8,["sync"])])):k("",!0),($e=(se=e(t).activePlayer)==null?void 0:se.current_media)!=null&&$e.title?(d(),_("div",{key:1,style:le(`font-size: ${m.value};`)},[u(de,{sync:e(o)},{default:y(()=>{var we,Pe;return[F(V((Pe=(we=e(t).activePlayer)==null?void 0:we.current_media)==null?void 0:Pe.title),1)]}),_:1},8,["sync"])],4)):k("",!0)]}),_:1})):(d(),C(Re,{key:3,style:le(`font-size: ${g.value};cursor:pointer;`),onClick:f[2]||(f[2]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>{var S;return[F(V(((S=e(t).activePlayer)==null?void 0:S.display_name)||e(oe)("no_player")),1)]}),_:1},8,["sync"])]),_:1},8,["style"])),((_e=e(t).activePlayer)==null?void 0:_e.powered)==!1?(d(),C(Ce,{key:4,class:"text-h6 text-md-h5 text-lg-h4"},{default:y(()=>[F(V(e(oe)("off")),1)]),_:1})):k("",!0),(qe=(ze=e(t).curQueueItem)==null?void 0:ze.streamdetails)!=null&&qe.stream_title&&((Qt=e(t).activePlayer)==null?void 0:Qt.powered)!=!1?(d(),C(Ce,{key:5,class:"text-h6 text-md-h5 text-lg-h4",onClick:f[3]||(f[3]=S=>{var j,se;return T((se=(j=e(t).curQueueItem)==null?void 0:j.streamdetails)==null?void 0:se.stream_title)})},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>[F(V(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1},8,["sync"])]),_:1})):k("",!0),(St=e(t).curQueueItem)!=null&&St.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&(($t=e(t).activePlayer)==null?void 0:$t.powered)!=!1?(d(),C(Ce,{key:6,style:le(`font-size: ${m.value};cursor:pointer;`),onClick:f[4]||(f[4]=S=>h(e(t).curQueueItem.media_item.album))},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>[F(V(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):k("",!0),(Tt=e(t).curQueueItem)!=null&&Tt.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length&&((xt=e(t).activePlayer)==null?void 0:xt.powered)!=!1?(d(),C(Ce,{key:7,style:le(`font-size: ${m.value};cursor:pointer;`),onClick:f[5]||(f[5]=S=>h(e(t).curQueueItem.media_item.artists[0]))},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>[F(V(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):k("",!0),(Mt=e(t).curQueueItem)!=null&&Mt.media_item&&"podcast"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.podcast?(d(),C(Ce,{key:8,style:le(`font-size: ${m.value};`)},{default:y(()=>[u(de,{sync:e(o)},{default:y(()=>[F(V(e(t).curQueueItem.media_item.podcast.name),1)]),_:1},8,["sync"])]),_:1},8,["style"])):e(t).activePlayer&&((Bt=e(t).activePlayer)==null?void 0:Bt.active_source)!=((Et=e(t).activePlayer)==null?void 0:Et.player_id)&&((Lt=e(t).activePlayer)==null?void 0:Lt.powered)!=!1?(d(),C(Ce,{key:9},{default:y(()=>[F(V(e(oe)("external_source_active",[e(_a)(e(t).activePlayer)])),1)]),_:1})):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0&&((At=e(t).activePlayer)==null?void 0:At.powered)!=!1?(d(),C(Ce,{key:10,style:le(`font-size: ${m.value}`)},{default:y(()=>[F(V(e(oe)("queue_empty")),1)]),_:1},8,["style"])):k("",!0),((zt=e(t).activePlayer)==null?void 0:zt.powered)!=!1?(d(),_("div",Ki,[u(wa)])):k("",!0)])])):k("",!0),e(t).showQueueItems?(d(),_("div",Zi,[u(Oi,{modelValue:c.value,"onUpdate:modelValue":f[6]||(f[6]=S=>c.value=S),"hide-slider":"",density:"compact",onClick:x},{default:y(()=>[u(ct,{value:0},{default:y(()=>{var S,j;return[F(V(e(oe)("queue"))+" ",1),u(ut,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((j=e(t).activePlayerQueue)==null?void 0:j.current_index)||0),inline:""},null,8,["content"])]}),_:1}),u(ct,{value:1},{default:y(()=>{var S;return[F(V(e(oe)("played"))+" ",1),u(ut,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),$("div",Ji,[p.value?k("",!0):(d(),C(El,{key:0,onLoad:z,"empty-text":"",height:"100%"},{default:y(()=>[u(Ol,{"item-height":70,"max-height":"90%",items:c.value==0?v.value:w.value},{default:y(({item:S,index:j})=>{var se,$e,we,Pe,Ht;return[u(Rl,{link:"","show-menu-btn":!0,disabled:!S.available,onClick:Xe(re=>A(re,S),["stop"]),onMenu:Xe(re=>A(re,S),["stop"]),onMouseenter:re=>s.value=j,onMouseleave:f[7]||(f[7]=re=>s.value=-1)},{prepend:y(()=>[$("div",eo,[u(Oe,{size:"50",item:S},null,8,["item"])])]),title:y(()=>[u(de,{sync:j==0&&c.value==0?e(o):e(i),disabled:!(j==0&&c.value==0||s.value==j)},{default:y(()=>[F(V(S.name),1)]),_:2},1032,["sync","disabled"])]),subtitle:y(()=>[$("div",to,[$("span",ao,V(e(Ne)(S.duration))+" | ",1),u(de,{sync:j==0&&c.value==0?e(o):e(i),disabled:!(j==0&&c.value==0||s.value==j)},{default:y(()=>[S.media_item&&"album"in S.media_item&&S.media_item.album?(d(),_("span",lo,V(S.media_item.album.name),1)):k("",!0)]),_:2},1032,["sync","disabled"])])]),append:y(()=>[S.available?k("",!0):(d(),C(te,{key:0},{default:y(()=>f[13]||(f[13]=[F("mdi-alert")])),_:1}))]),_:2},1032,["disabled","onClick","onMenu","onMouseenter"]),S.queue_item_id==((se=e(t).curQueueItem)==null?void 0:se.queue_item_id)&&((Pe=(we=($e=S.media_item)==null?void 0:$e.metadata)==null?void 0:we.chapters)!=null&&Pe.length)?(d(),_("div",io,[(d(!0),_(G,null,ne((Ht=S.media_item.metadata)==null?void 0:Ht.chapters,re=>(d(),C(Ve,{key:re.position,onClick:Xe(mn=>M(S.media_item,re),["stop"])},{title:y(()=>[$("div",null,V(re.name),1)]),append:y(()=>[re.end?(d(),_("span",oo,V(e(Ne)(re.end-re.start)),1)):k("",!0)]),_:2},1032,["onClick"]))),128))])):k("",!0)]}),_:1},8,["items"])]),_:1}))])])):k("",!0),!e(t).showQueueItems&&P.$vuetify.display.height<=600?(d(),_("div",no,[$("div",so,[u(Oe,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):k("",!0)]),$("div",ro,[$("div",uo,[u(Qa,{"show-labels":!0,color:q.value},null,8,["color"])]),$("div",co,[e(t).activePlayerQueue?(d(),C(Se,{key:0,disabled:!((qt=e(t).curQueueItem)!=null&&qt.media_item),icon:(Dt=(Rt=e(t).curQueueItem)==null?void 0:Rt.media_item)!=null&&Dt.favorite?"mdi-heart":"mdi-heart-outline",title:e(oe)("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:D},null,8,["disabled","icon","title"])):k("",!0),P.$vuetify.display.mdAndUp?(d(),C($a,{key:1,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"30px"},null,8,["player-queue"])):k("",!0),u(xa,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),u(Ta,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"100px"},null,8,["player","player-queue"]),u(Ma,{player:e(t).activePlayer,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"45px"},null,8,["player","player-queue"]),P.$vuetify.display.mdAndUp?(d(),C(Sa,{key:2,"player-queue":e(t).activePlayerQueue,class:"media-controls-item","max-height":"35px"},null,8,["player-queue"])):k("",!0),e(t).activePlayerQueue?(d(),C(Ba,{key:3,class:"media-controls-item","max-height":"30px"})):k("",!0)]),e(t).activePlayer?(d(),_("div",mo,[u(It,{width:"100%","is-powered":((Nt=e(t).activePlayer)==null?void 0:Nt.powered)!=!1,disabled:!e(t).activePlayer||!((Wt=e(t).activePlayer)!=null&&Wt.available),"model-value":Math.round(((Ot=e(t).activePlayer)==null?void 0:Ot.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus",color:q.value,"allow-wheel":!0,"onUpdate:modelValue":f[8]||(f[8]=S=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolume(e(t).activePlayerId,S):e(Q).playerCommandVolumeSet(e(t).activePlayerId,S)),"onClick:prepend":f[9]||(f[9]=S=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolumeDown(e(t).activePlayerId):e(Q).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":f[10]||(f[10]=S=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolumeUp(e(t).activePlayerId):e(Q).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value","color"])])):k("",!0),b.value?(d(),_("div",vo,[u(ke,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:f[11]||(f[11]=S=>e(t).showPlayersMenu=!0)},{default:y(()=>{var S;return[u(te,{icon:((S=e(t).activePlayer)==null?void 0:S.icon)||"mdi-speaker"},null,8,["icon"]),F(" "+V(e(t).activePlayer?e(Pa)(e(t).activePlayer):""),1)]}),_:1})])):k("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),po=fe(yo,[["__scopeId","data-v-ce148dae"]]),fo={key:1},ho={key:2,class:"icon-thumb"},go={key:0},bo={key:2},_o={key:3},wo={key:4},Po={key:0,class:"pl-4"},ko={key:0},Co={key:1},Io={key:2},Vo={key:3},Qo={key:4,class:"line-clamp-1"},So={key:5,class:"line-clamp-1"},$o={key:6},To={key:7,class:"line-clamp-1"},xo={key:8,class:"line-clamp-1"},Mo={key:0},Bo=U({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const l=new dt,n=a,o=I(()=>{var s,i;return(i=(s=t.activePlayerQueue)==null?void 0:s.current_item)==null?void 0:i.streamdetails});return(s,i)=>(d(),_(G,null,[u(Ve,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:y(()=>{var r,c,p,v,w,g,m,b,h,T;return[$("div",{class:"media-thumb player-media-thumb",style:le(`cursor: pointer;height: ${e(J)({breakpoint:"phone"})?50:64}px; width: ${e(J)({breakpoint:"phone"})?50:64}px; `),onClick:i[0]||(i[0]=A=>e(t).showFullscreenPlayer=!0)},[((r=e(t).activePlayer)==null?void 0:r.powered)!=!1&&((c=e(t).curQueueItem)!=null&&c.media_item||(p=e(t).curQueueItem)!=null&&p.image)?(d(),C(Oe,{key:0,item:((v=e(t).curQueueItem)==null?void 0:v.media_item)||e(t).curQueueItem,fallback:e(tt)},null,8,["item","fallback"])):((w=e(t).activePlayer)==null?void 0:w.powered)!=!1&&((m=(g=e(t).activePlayer)==null?void 0:g.current_media)!=null&&m.image_url)?(d(),_("div",fo,[u(Ke,{class:"media-thumb",style:{"border-radius":"4px"},size:"55",src:e(t).activePlayer.current_media.image_url},null,8,["src"])])):(d(),_("div",ho,[u(te,{size:"35",icon:((b=e(t).activePlayer)==null?void 0:b.type)==e(je).PLAYER&&((h=e(t).activePlayer)!=null&&h.group_childs.length)?"mdi-speaker-multiple":((T=e(t).activePlayer)==null?void 0:T.icon)||"mdi-speaker",style:{display:"table-cell",opacity:"0.8"}},null,8,["icon"])]))],4)]}),title:y(()=>{var r,c,p,v,w,g;return[$("div",{style:le({cursor:"pointer",color:s.primaryColor})},[((r=e(t).activePlayer)==null?void 0:r.powered)==!1?(d(),_("div",{key:0,onClick:i[1]||(i[1]=m=>e(t).showPlayersMenu=!0)},V((c=e(t).activePlayer)==null?void 0:c.display_name),1)):(p=e(t).curQueueItem)!=null&&p.media_item?(d(),_("div",{key:1,onClick:i[2]||(i[2]=m=>e(t).showFullscreenPlayer=!0)},[u(de,{sync:e(l)},{default:y(()=>[F(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),_("span",go,"("+V(e(t).curQueueItem.media_item.version)+")",1)):k("",!0)]),_:1},8,["sync"])])):e(t).curQueueItem?(d(),_("div",bo,V(e(t).curQueueItem.name),1)):!e(t).activePlayerQueue&&((w=(v=e(t).activePlayer)==null?void 0:v.current_media)!=null&&w.title)?(d(),_("div",_o,V(e(t).activePlayer.current_media.title),1)):e(t).activePlayer?(d(),_("div",wo,V((g=e(t).activePlayer)==null?void 0:g.display_name),1)):(d(),_("div",{key:5,onClick:i[3]||(i[3]=m=>e(t).showPlayersMenu=!0)},V(s.$t("no_player")),1))],4)]}),append:y(()=>{var r;return[(r=o.value)!=null&&r.audio_format.content_type&&!e(J)({breakpoint:"phone"})&&s.showQualityDetailsBtn?(d(),_("div",Po,[u(wa)])):k("",!0)]}),subtitle:y(()=>{var r;return[$("div",{style:le({cursor:"pointer",color:s.primaryColor}),class:"line-clamp-1",onClick:i[4]||(i[4]=c=>e(t).showFullscreenPlayer=!0)},[u(de,{sync:e(l)},{default:y(()=>{var c,p,v,w,g,m,b,h,T,A,B,R,Y,z,D;return[((c=e(t).activePlayer)==null?void 0:c.powered)==!1?(d(),_("div",ko,V(s.$t("off")),1)):e(t).curQueueItem&&((p=e(t).curQueueItem.media_item)==null?void 0:p.media_type)==e(W).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!n.showOnlyArtist?(d(),_("div",Co,V(e(bl)(e(t).curQueueItem.media_item.artists))+" • "+V(e(t).curQueueItem.media_item.album.name),1)):(v=e(t).curQueueItem)!=null&&v.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),_("div",Io,V(e(t).curQueueItem.media_item.artists[0].name),1)):(w=e(t).curQueueItem)!=null&&w.media_item&&"podcast"in e(t).curQueueItem.media_item&&((g=e(t).curQueueItem.media_item.podcast)!=null&&g.name)?(d(),_("div",Vo,V(e(t).curQueueItem.media_item.podcast.name),1)):(b=(m=e(t).curQueueItem)==null?void 0:m.streamdetails)!=null&&b.stream_title?(d(),_("div",Qo,V((T=(h=e(t).curQueueItem)==null?void 0:h.streamdetails)==null?void 0:T.stream_title),1)):(B=(A=e(t).curQueueItem)==null?void 0:A.media_item)!=null&&B.metadata.description?(d(),_("div",So,V(e(_l)(e(t).curQueueItem.media_item.metadata.description,100)),1)):!e(t).activePlayerQueue&&((R=e(t).activePlayer)!=null&&R.active_source)&&((z=(Y=e(t).activePlayer)==null?void 0:Y.current_media)!=null&&z.artist)?(d(),_("div",$o,V(e(t).activePlayer.current_media.artist),1)):!e(t).activePlayerQueue&&((D=e(t).activePlayer)!=null&&D.active_source)?(d(),_("div",To,V(s.$t("external_source_active",[e(_a)(e(t).activePlayer)])),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),_("div",xo,V(s.$t("queue_empty")),1)):k("",!0)]}),_:1},8,["sync"]),e(t).activePlayer&&((r=e(t).activePlayer)==null?void 0:r.powered)!=!1?(d(),_("div",Mo,V(e(Pa)(e(t).activePlayer)),1)):k("",!0)],4)]}),_:1}),u(po,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":s.colorPalette},null,8,["show-fullscreen","color-palette"])],64))}}),Eo={key:0},Lo={key:0},Ao={class:"text-caption"},zo={key:1},qo=U({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const l=a,n=L(!1);return(o,s)=>l.isVisible&&e(t).activePlayer?(d(),_("div",Eo,[u(Pt,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:y(({props:i})=>{var r,c;return[e(J)("bp6")||!o.responsiveVolumeSize?(d(),_("div",Lo,[u(It,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).activePlayer.group_childs.length>0?Math.round(((r=e(t).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((c=e(t).activePlayer)==null?void 0:c.volume_level)||0),"allow-wheel":!0,"onUpdate:modelValue":s[0]||(s[0]=p=>{var v,w;return e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolume(((v=e(t).activePlayer)==null?void 0:v.player_id)||"",p):e(Q).playerCommandVolumeSet(((w=e(t).activePlayer)==null?void 0:w.player_id)||"",p)})},{prepend:y(()=>[u(be,Z({variant:"icon",size:"48",ripple:!1},{...i}),{default:y(()=>{var p,v;return[u(te,{color:l.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",Ao,V(e(t).activePlayer.group_childs.length>0?Math.round(((p=e(t).activePlayer)==null?void 0:p.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),_("div",zo,[u(be,Z({...i},{size:"48",variant:"icon"}),{default:y(()=>{var p,v;return[u(te,{color:l.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:le({color:l.color?o.color:""})},V(e(t).activePlayer.group_childs.length>0?Math.round(((p=e(t).activePlayer)==null?void 0:p.group_volume)||0):Math.round(((v=e(t).activePlayer)==null?void 0:v.volume_level)||0)),5)]}),_:2},1040)]))]}),default:y(()=>[u(Je,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:y(()=>[e(t).activePlayer?(d(),C(Nl,{key:0,player:e(t).activePlayer,"show-sub-players":!0,"show-sync-controls":!1,"show-heading-row":!0,"show-volume-control":!0,"allow-wheel":!0,style:{"margin-left":"18px"}},null,8,["player"])):k("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):k("",!0)}}),Ro=fe(qo,[["__scopeId","data-v-f4084555"]]),Do=U({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(l,n)=>(d(),_(G,null,[l.player&&l.player.isVisible?(d(),C(Ea,{key:0,color:l.player.color},null,8,["color"])):k("",!0),l.queue&&l.queue.isVisible?(d(),C(Ba,{key:1,color:l.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):k("",!0),l.volume&&l.volume.isVisible?(d(),C(Ro,{key:2,color:l.volume.color,"volume-size":l.volume.volumeSize,"responsive-volume-size":l.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):k("",!0)],64))}}),No=["data-floating"],Wo=["data-mobile"],Oo={class:"mediacontrols-left"},Ho={class:"mediacontrols-bottom-center"},Fo={class:"mediacontrols-bottom-right"},Uo={key:0,class:"volume-slider"},Yo=U({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){Pl(i=>({"4978018a":s.value})),ma();const{mobile:l}=ft({mobileBreakpoint:576}),n=L({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),o=new Image;o.src=et.theme.current.value.dark?tt:rt,o.crossOrigin="Anonymous",o.addEventListener("load",function(){n.value=wl(o)});const s=I(()=>et.theme.current.value.dark?n.value&&n.value.darkColor?n.value.darkColor+"26":"CCCCCC26":n.value&&n.value.lightColor?n.value.lightColor+"26":"CCCCCC26");return ae(()=>{var i;return(i=t.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=t.curQueueItem)!=null&&i.media_item?o.src=Zt(t.curQueueItem.media_item,Jt.THUMB)||"":t.curQueueItem?o.src=Zt(t.curQueueItem,Jt.THUMB)||"":o.src=""}),(i,r)=>{var c,p,v,w,g,m,b,h,T,A,B;return d(),_(G,null,[$("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,No),$("div",{class:"mediacontrols","data-mobile":e(l)},[$("div",Oo,[u(Bo,{"show-quality-details-btn":!!e(J)("bp8"),"show-only-artist":!e(J)("bp7"),"color-palette":n.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),$("div",Ho,[u(sa,{"visible-components":{repeat:{isVisible:e(J)("bp3")},shuffle:{isVisible:e(J)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"},withCircle:i.useFloatingPlayer},previous:{isVisible:e(J)("bp3")},next:{isVisible:e(J)("bp3")}}},null,8,["visible-components"]),e(J)("bp6")?(d(),C(Qa,{key:0,"is-progress-bar":!1,disabled:!((c=e(t).activePlayerQueue)!=null&&c.active)||((w=(v=(p=e(t).activePlayerQueue)==null?void 0:p.current_item)==null?void 0:v.media_item)==null?void 0:w.media_type)!==e(W).TRACK},null,8,["disabled"])):k("",!0)]),$("div",Fo,[$("div",null,[u(Do,{queue:{isVisible:e(J)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!e(l)&&(((g=e(t).activePlayer)==null?void 0:g.volume_control)!=e(Kt)||((m=e(t).activePlayer)==null?void 0:m.group_childs.length)>0),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),u(sa,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(J)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,Wo),e(l)&&(((b=e(t).activePlayer)==null?void 0:b.volume_control)!=e(Kt)||((h=e(t).activePlayer)==null?void 0:h.group_childs.length)>0)?(d(),_("div",Uo,[u(It,{width:"100%",color:"secondary","is-powered":((T=e(t).activePlayer)==null?void 0:T.powered)!=!1,disabled:!e(t).activePlayer||!((A=e(t).activePlayer)!=null&&A.available),"model-value":Math.round(((B=e(t).activePlayer)==null?void 0:B.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=R=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolume(e(t).activePlayerId,R):e(Q).playerCommandVolumeSet(e(t).activePlayerId,R)),"onClick:prepend":r[1]||(r[1]=R=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolumeDown(e(t).activePlayerId):e(Q).playerCommandVolumeDown(e(t).activePlayerId)),"onClick:append":r[2]||(r[2]=R=>e(t).activePlayer.group_childs.length>0?e(Q).playerCommandGroupVolumeUp(e(t).activePlayerId):e(Q).playerCommandVolumeUp(e(t).activePlayerId))},null,8,["is-powered","disabled","model-value"])])):k("",!0)],64)}}}),Xo=fe(Yo,[["__scopeId","data-v-e7d0fafb"]]),Go=ye({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...wt(),...Qe(),..._t(),...Ct(),...bt(),...Ae({tag:"footer"}),...Ue()},"VFooter"),jo=ve()({name:"VFooter",props:Go(),setup(a,l){let{slots:n}=l;const o=L(),{themeClasses:s}=at(a),{backgroundColorClasses:i,backgroundColorStyles:r}=He(ee(a,"color")),{borderClasses:c}=yt(a),{elevationClasses:p}=pt(a),{roundedClasses:v}=ht(a),w=ge(32),{resizeRef:g}=kl(b=>{b.length&&(w.value=b[0].target.clientHeight)}),m=I(()=>a.height==="auto"?w.value:parseInt(a.height,10));return De(()=>a.app,()=>{const b=kt({id:a.name,order:I(()=>parseInt(a.order,10)),position:I(()=>"bottom"),layoutSize:m,elementSize:I(()=>a.height==="auto"?void 0:m.value),active:I(()=>a.app),absolute:ee(a,"absolute")});mt(()=>{o.value=b.layoutItemStyles.value})}),pe(()=>u(a.tag,{ref:g,class:["v-footer",s.value,i.value,c.value,p.value,v.value,a.class],style:[r.value,a.app?o.value:{height:Ee(a.height)},a.style]},n)),{}}}),Ko=U({__name:"Footer",setup(a){const l=I(()=>t.navigationMenuStyle=="horizontal"),n=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=I(()=>l.value?n.value+5:0);return(s,i)=>(d(),_(G,null,[l.value?(d(),_("div",{key:0,class:nt(s.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:le(`
      position: fixed;
      width: 100%;
      height: ${n.value+(e(J)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):k("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),C(pi,{key:1,height:n.value},null,8,["height"])):k("",!0),u(jo,{bottom:"",fixed:"",class:nt(`d-flex flex-column ${l.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:le(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:y(()=>[u(Xo,{"use-floating-player":l.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),Zo={style:{float:"right","margin-right":"-20px"}},Jo=U({__name:"PlayerSelect",setup(a){const l=L(!1),n=L(null),o=I(()=>Object.values(Q.players).filter(c=>ea(c)).filter(c=>c.player_id!==Ie.player_id).sort((c,p)=>{var v;return c.display_name.toUpperCase()>((v=p.display_name)==null?void 0:v.toUpperCase())?1:-1}));ae(()=>t.activePlayerId,c=>{c&&localStorage.setItem("mass.LastPlayerId",c)}),ae(()=>Q.players,c=>{c&&!t.activePlayer&&i()},{deep:!0}),ae(()=>Q.state,c=>{c.value!=Il.CONNECTED&&(t.activePlayerId=void 0)},{deep:!0});function s(c,p=!1){t.activePlayerId==c.player_id?l.value=!l.value:(l.value=!1,t.activePlayerId=c.player_id),p&&(t.showPlayersMenu=!1)}Le(()=>{i()});const i=function(){if(t.activePlayer&&ea(t.activePlayer))return;const c=r();c&&(t.activePlayerId=c)},r=function(){const c=localStorage.getItem("mass.LastPlayerId");if(c&&c in Q.players&&Q.players[c].available)return c};return(c,p)=>(d(),_(G,null,[u(ka,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":p[0]||(p[0]=v=>e(t).showPlayersMenu=v)},null,8,["modelValue"]),e(t).showPlayersMenu?(d(),C(Ia,{key:0,modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":p[4]||(p[4]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",width:460,style:{"z-index":"99999"},"z-index":"99999"},{default:y(()=>[$("div",null,[u(Re,{class:"title",style:{"padding-top":"20px","padding-bottom":"20px"}},{default:y(()=>[$("b",null,V(c.$t("players")),1),$("div",Zo,[u(be,{variant:"icon",to:{name:"playersettings"}},{default:y(()=>[u(te,{size:"30"},{default:y(()=>p[5]||(p[5]=[F("mdi-cog-outline")])),_:1})]),_:1}),u(be,{variant:"icon",onClick:p[1]||(p[1]=v=>e(t).showPlayersMenu=!1)},{default:y(()=>[u(te,{size:"30"},{default:y(()=>p[6]||(p[6]=[F("mdi-window-close")])),_:1})]),_:1})])]),_:1}),u(Ze),u(Me,{flat:"",style:{margin:"0px 15px 5px 15px"}},{default:y(()=>[e(Ie).mode===e(Cl).BUILTIN&&e(Ie).player_id&&e(Q).players[e(Ie).player_id]?(d(),C(Ge,{key:0,id:e(Ie).player_id,player:e(Q).players[e(Ie).player_id],"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":!1,"show-sync-controls":!1,"allow-power-control":!0,onClick:p[2]||(p[2]=v=>s(e(Q).players[e(Ie).player_id]))},null,8,["id","player"])):k("",!0),(d(!0),_(G,null,ne(o.value.filter(v=>{var w;return[e(st).PLAYING,e(st).PAUSED].includes(v.state)||((w=e(Q).queues[v.player_id])==null?void 0:w.items)>0&&v.powered!=!1}),v=>(d(),C(Ge,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:w=>s(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),u(Hl,{modelValue:n.value,"onUpdate:modelValue":p[3]||(p[3]=v=>n.value=v),variant:"accordion",flat:"",class:"expansion"},{default:y(()=>[u(ta,{style:{padding:"0"}},{default:y(()=>[u(aa,null,{default:y(()=>[$("h3",null,V(c.$t("all_players")),1)]),_:1}),u(la,{style:{padding:"0"}},{default:y(()=>[u(Me,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:y(()=>[(d(!0),_(G,null,ne(o.value.filter(v=>v.type!=e(je).GROUP),v=>(d(),C(Ge,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:w=>s(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1}),o.value.filter(v=>v.type==e(je).GROUP).length?(d(),C(ta,{key:0,style:{padding:"0"}},{default:y(()=>[u(aa,null,{default:y(()=>[$("h3",null,V(c.$t("all_groups")),1)]),_:1}),u(la,{style:{padding:"0"}},{default:y(()=>[u(Me,{flat:"",style:{margin:"-20px 3px 5px 3px"}},{default:y(()=>[(d(!0),_(G,null,ne(o.value.filter(v=>v.type==e(je).GROUP),v=>(d(),C(Ge,{id:v.player_id,key:v.player_id,player:v,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":l.value&&v.player_id==e(t).activePlayerId,"show-sync-controls":v.supported_features.includes(e(We).SET_MEMBERS),"allow-power-control":!0,onClick:w=>s(v)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])):k("",!0)],64))}}),en=fe(Jo,[["__scopeId","data-v-a66c8412"]]);function tn(a={}){const{immediate:l=!1,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=a;let c,p,v;const w=async(m=!0)=>{await p,v==null||v()};async function g(){if("serviceWorker"in navigator){if(c=await Vl(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[],import.meta.url).then(({Workbox:m})=>new m("./sw.js",{scope:"./",type:"classic"})).catch(m=>{r==null||r(m)}),!c)return;v=()=>{c==null||c.messageSkipWaiting()};{let m=!1;const b=()=>{m=!0,c==null||c.addEventListener("controlling",h=>{h.isUpdate&&window.location.reload()}),n==null||n()};c.addEventListener("installed",h=>{typeof h.isUpdate>"u"?typeof h.isExternal<"u"&&h.isExternal?b():!m&&(o==null||o()):h.isUpdate||o==null||o()}),c.addEventListener("waiting",b)}c.register({immediate:l}).then(m=>{i?i("./sw.js",m):s==null||s(m)}).catch(m=>{r==null||r(m)})}}return p=g(),w}function an(a={}){const{immediate:l=!0,onNeedRefresh:n,onOfflineReady:o,onRegistered:s,onRegisteredSW:i,onRegisterError:r}=a,c=L(!1),p=L(!1);return{updateServiceWorker:tn({immediate:l,onNeedRefresh(){c.value=!0,n==null||n()},onOfflineReady(){p.value=!0,o==null||o()},onRegistered:s,onRegisteredSW:i,onRegisterError:r}),offlineReady:p,needRefresh:c}}const ln={key:0,class:"pwa-toast",role:"alert"},on={class:"message"},nn={key:0},sn={key:1},rn=U({__name:"ReloadPrompt",setup(a){const{offlineReady:l,needRefresh:n,updateServiceWorker:o}=an(),s=async()=>{l.value=!1,n.value=!1};return(i,r)=>e(l)||e(n)?(d(),_("div",ln,[$("div",on,[e(l)?(d(),_("span",nn," App ready to work offline ")):(d(),_("span",sn," New content available, click on reload button to update. "))]),e(n)?(d(),_("button",{key:0,onClick:r[0]||(r[0]=c=>e(o)())},"Reload")):k("",!0),$("button",{onClick:s},"Close")])):k("",!0)}}),un=ye({...Qe(),...xl({fullHeight:!0}),...Ue()},"VApp"),dn=ve()({name:"VApp",props:un(),setup(a,l){let{slots:n}=l;const o=at(a),{layoutClasses:s,getLayoutItem:i,items:r,layoutRef:c}=Tl(a),{rtlClasses:p}=vt();return pe(()=>{var v;return u("div",{ref:c,class:["v-application",o.themeClasses.value,s.value,p.value,a.class],style:[a.style]},[u("div",{class:"v-application__wrap"},[(v=n.default)==null?void 0:v.call(n)])])}),{getLayoutItem:i,items:r,theme:o}}}),cn=U({__name:"Default",setup(a){const l=Ql();return ae([()=>l.query.player,()=>Object.keys(Q.players).length],([n])=>{var i;if(!n)return;const o=n.toString().toLowerCase(),s=(i=Object.values(Q.players).find(r=>r.player_id.toLowerCase()===o||r.display_name.toLowerCase()===o))==null?void 0:i.player_id;s&&(t.activePlayerId=s)},{immediate:!0}),ae(()=>l.query.showFullscreenPlayer,n=>{t.showFullscreenPlayer=!!n},{immediate:!0}),ae(()=>l.query.frameless,n=>{n&&(t.frameless=!0)},{immediate:!0}),(n,o)=>(d(),_(G,null,[e(t).connected?(d(),C(dn,{key:0},{default:y(()=>[e(t).frameless?(d(),C(na,{key:0})):(d(),_(G,{key:1},[u(en),u(Ko),u(na)],64))]),_:1})):(d(),C(ka,{key:1,class:"centeredoverlay",persistent:"","model-value":!e(t).connected},{default:y(()=>[$("div",null,[u(zl,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),e(t).isInStandaloneMode?(d(),C(rn,{key:2})):k("",!0)],64))}}),Mn=fe(cn,[["__scopeId","data-v-33a00054"]]);export{Mn as default};
