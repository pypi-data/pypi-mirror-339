import{s as kt,D as Pe,E as Le,a as z,d as m,f as _,i as B,g as k,n as ke,y as yt,A as Dt,j as pe,p as Vt,F as Ct,q as It,k as H,o as q,C as je,e as T,c as M,r as Tt,v as Mt,w as Nt,x as zt,P as ye,t as F,b as Y,h as G,B as He,u as re,H as Se,S as Ee,V as qe}from"./vexCXLX9.js";import{S as Et,i as $t,f as Ot,b as K,d as Q,m as X,t as N,a as P,e as x,g as oe,c as se}from"./Cdll-xsj.js";import{e as fe}from"./DNXpXRYa.js";import"./CyFe254w.js";import{M as Bt,a as St,b as At}from"./CgO5y2dz.js";import{m as Ue}from"./_0_gBwjO.js";import{F as Pt}from"./CU2r43ac.js";import{f as Lt}from"./g5t9vw8M.js";import{C as jt}from"./Cux5bsOp.js";import{C as Ht}from"./BfKRbBRz.js";import{S as qt}from"./DjtyHjFA.js";import{g as Ut,p as Zt,d as Wt}from"./CFvDqTah.js";import{M as ve,a as Ft,c as Yt,i as Gt,u as Rt,l as Ze,m as Jt}from"./BWfq-JMv.js";import{t as ue}from"./DMk2eJ1b.js";import{s as Kt,h as We}from"./Dwx6w9TH.js";import{g as Qt}from"./Cz-btY_m.js";import{T as ce}from"./DzHlmjPS.js";import{S as Xt}from"./DBcgpmMt.js";import{g as xt}from"./7pUP5QFf.js";function el(a){let e,t;return{c(){e=Pe("svg"),t=Pe("path"),this.h()},l(l){e=Le(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=z(e);t=Le(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),z(t).forEach(m),r.forEach(m),this.h()},h(){_(t,"stroke-linecap","round"),_(t,"stroke-linejoin","round"),_(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width",a[1]),_(e,"stroke","currentColor"),_(e,"class",a[0])},m(l,r){B(l,e,r),k(e,t)},p(l,[r]){r&2&&_(e,"stroke-width",l[1]),r&1&&_(e,"class",l[0])},i:ke,o:ke,d(l){l&&m(e)}}}function tl(a,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return a.$$set=n=>{"className"in n&&t(0,l=n.className),"strokeWidth"in n&&t(1,r=n.strokeWidth)},[l,r]}class ll extends Et{constructor(e){super(),$t(this,e,tl,el,kt,{className:0,strokeWidth:1})}}function Fe(a,e,t){const l=a.slice();return l[48]=e[t],l}function Ye(a,e,t){const l=a.slice();return l[51]=e[t],l[53]=t,l}function Ge(a,e,t){const l=a.slice();return l[54]=e[t],l}function Re(a,e,t){const l=a.slice();return l[54]=e[t],l}function Je(a,e,t){const l=a.slice();return l[54]=e[t],l}function al(a){let e;return{c(){e=F(a[2])},l(t){e=Y(t,a[2])},m(t,l){B(t,e,l)},p(t,l){l[0]&4&&G(e,t[2])},d(t){t&&m(e)}}}function rl(a){let e=a[15].label+"",t;return{c(){t=F(e)},l(l){t=Y(l,e)},m(l,r){B(l,t,r)},p(l,r){r[0]&32768&&e!==(e=l[15].label+"")&&G(t,e)},d(l){l&&m(t)}}}function nl(a){let e,t,l,r,n;function o(d,f){return d[15]?rl:al}let s=o(a),i=s(a);return l=new jt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=T("div"),i.c(),t=H(),K(l.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var f=z(e);i.l(f),t=q(f),Q(l.$$.fragment,f),f.forEach(m),this.h()},h(){_(e,"class",r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+a[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(d,f){B(d,e,f),i.m(e,null),k(e,t),X(l,e,null),n=!0},p(d,f){s===(s=o(d))&&i?i.p(d,f):(i.d(1),i=s(d),i&&(i.c(),i.m(e,t))),(!n||f[0]&256&&r!==(r="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+d[8]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&_(e,"class",r)},i(d){n||(N(l.$$.fragment,d),n=!0)},o(d){P(l.$$.fragment,d),n=!1},d(d){d&&m(e),i.d(),x(l)}}}function Ke(a){let e,t,l,r,n,o,s;return t=new qt({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=T("div"),K(t.$$.fragment),l=H(),r=T("input"),this.h()},l(i){e=M(i,"DIV",{class:!0});var d=z(e);Q(t.$$.fragment,d),l=q(d),r=M(d,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),d.forEach(m),this.h()},h(){_(r,"id","model-search-input"),_(r,"class","w-full text-sm bg-transparent outline-hidden"),_(r,"placeholder",a[4]),_(r,"autocomplete","off"),_(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(i,d){B(i,e,d),X(t,e,null),k(e,l),k(e,r),He(r,a[9]),n=!0,o||(s=[re(r,"input",a[29]),re(r,"keydown",a[30])],o=!0)},p(i,d){(!n||d[0]&16)&&_(r,"placeholder",i[4]),d[0]&512&&r.value!==i[9]&&He(r,i[9])},i(i){n||(N(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&m(e),x(t),o=!1,Se(s)}}}function Qe(a){let e,t,l,r=a[20].t("All")+"",n,o,s,i=a[6].find(gt)&&a[6].find(pt),d,f=a[6].find(_t),y,C,w,g=i&&Xe(a),b=f&&xe(a),$=fe(a[14]),p=[];for(let E=0;E<$.length;E+=1)p[E]=et(Je(a,$,E));return{c(){e=T("div"),t=T("div"),l=T("button"),n=F(r),s=H(),g&&g.c(),d=H(),b&&b.c(),y=H();for(let E=0;E<p.length;E+=1)p[E].c();this.h()},l(E){e=M(E,"DIV",{class:!0});var I=z(e);t=M(I,"DIV",{class:!0});var v=z(t);l=M(v,"BUTTON",{class:!0});var L=z(l);n=Y(L,r),L.forEach(m),s=q(v),g&&g.l(v),d=q(v),b&&b.l(v),y=q(v);for(let S=0;S<p.length;S+=1)p[S].l(v);v.forEach(m),I.forEach(m),this.h()},h(){_(l,"class",o="min-w-fit outline-none p-1.5 "+(a[10]===""&&a[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),_(t,"class","flex gap-1 w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),_(e,"class","flex w-full sticky top-0 z-10 bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none")},m(E,I){B(E,e,I),k(e,t),k(t,l),k(l,n),k(t,s),g&&g.m(t,null),k(t,d),b&&b.m(t,null),k(t,y);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(t,null);a[36](t),C||(w=[re(l,"click",a[31]),re(e,"wheel",wl)],C=!0)},p(E,I){if(I[0]&1048576&&r!==(r=E[20].t("All")+"")&&G(n,r),I[0]&3072&&o!==(o="min-w-fit outline-none p-1.5 "+(E[10]===""&&E[11]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(l,"class",o),I[0]&64&&(i=E[6].find(gt)&&E[6].find(pt)),i?g?g.p(E,I):(g=Xe(E),g.c(),g.m(t,d)):g&&(g.d(1),g=null),I[0]&64&&(f=E[6].find(_t)),f?b?b.p(E,I):(b=xe(E),b.c(),b.m(t,y)):b&&(b.d(1),b=null),I[0]&19456){$=fe(E[14]);let v;for(v=0;v<$.length;v+=1){const L=Je(E,$,v);p[v]?p[v].p(L,I):(p[v]=et(L),p[v].c(),p[v].m(t,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=$.length}},d(E){E&&m(e),g&&g.d(),b&&b.d(),ye(p,E),a[36](null),C=!1,Se(w)}}}function Xe(a){let e,t=a[20].t("Local")+"",l,r,n,o,s=a[20].t("External")+"",i,d,f,y;return{c(){e=T("button"),l=F(t),n=H(),o=T("button"),i=F(s),this.h()},l(C){e=M(C,"BUTTON",{class:!0});var w=z(e);l=Y(w,t),w.forEach(m),n=q(C),o=M(C,"BUTTON",{class:!0});var g=z(o);i=Y(g,s),g.forEach(m),this.h()},h(){_(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),_(o,"class",d="min-w-fit outline-none p-1.5 "+(a[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(C,w){B(C,e,w),k(e,l),B(C,n,w),B(C,o,w),k(o,i),f||(y=[re(e,"click",a[32]),re(o,"click",a[33])],f=!0)},p(C,w){w[0]&1048576&&t!==(t=C[20].t("Local")+"")&&G(l,t),w[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(C[11]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",r),w[0]&1048576&&s!==(s=C[20].t("External")+"")&&G(i,s),w[0]&2048&&d!==(d="min-w-fit outline-none p-1.5 "+(C[11]==="openai"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(o,"class",d)},d(C){C&&(m(e),m(n),m(o)),f=!1,Se(y)}}}function xe(a){let e,t=a[20].t("Direct")+"",l,r,n,o;return{c(){e=T("button"),l=F(t),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var i=z(e);l=Y(i,t),i.forEach(m),this.h()},h(){_(e,"class",r="min-w-fit outline-none p-1.5 "+(a[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(s,i){B(s,e,i),k(e,l),n||(o=re(e,"click",a[34]),n=!0)},p(s,i){i[0]&1048576&&t!==(t=s[20].t("Direct")+"")&&G(l,t),i[0]&2048&&r!==(r="min-w-fit outline-none p-1.5 "+(s[11]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",r)},d(s){s&&m(e),n=!1,o()}}}function et(a){let e,t=a[54]+"",l,r,n,o,s;function i(){return a[35](a[54])}return{c(){e=T("button"),l=F(t),r=H(),this.h()},l(d){e=M(d,"BUTTON",{class:!0});var f=z(e);l=Y(f,t),r=q(f),f.forEach(m),this.h()},h(){_(e,"class",n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(d,f){B(d,e,f),k(e,l),k(e,r),o||(s=re(e,"click",i),o=!0)},p(d,f){a=d,f[0]&16384&&t!==(t=a[54]+"")&&G(l,t),f[0]&17408&&n!==(n="min-w-fit outline-none p-1.5 "+(a[10]===a[54]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&_(e,"class",n)},d(d){d&&m(e),o=!1,s()}}}function tt(a){let e,t,l=a[20].t("No results found")+"",r;return{c(){e=T("div"),t=T("div"),r=F(l),this.h()},l(n){e=M(n,"DIV",{});var o=z(e);t=M(o,"DIV",{class:!0});var s=z(t);r=Y(s,l),s.forEach(m),o.forEach(m),this.h()},h(){_(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(n,o){B(n,e,o),k(e,t),k(t,r)},p(n,o){o[0]&1048576&&l!==(l=n[20].t("No results found")+"")&&G(r,l)},d(n){n&&m(e)}}}function lt(a){var r;let e,t=fe((r=a[51].model)==null?void 0:r.tags.sort(bt)),l=[];for(let n=0;n<t.length;n+=1)l[n]=at(Re(a,t,n));return{c(){e=T("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);for(let s=0;s<l.length;s+=1)l[s].l(o);o.forEach(m),this.h()},h(){_(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(n,o){B(n,e,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(n,o){var s;if(o[0]&262144){t=fe((s=n[51].model)==null?void 0:s.tags.sort(bt));let i;for(i=0;i<t.length;i+=1){const d=Re(n,t,i);l[i]?l[i].p(d,o):(l[i]=at(d),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(n){n&&m(e),ye(l,n)}}}function at(a){let e,t=a[54].name+"",l,r;return{c(){e=T("div"),l=F(t),r=H(),this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);l=Y(o,t),r=q(o),o.forEach(m),this.h()},h(){_(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){B(n,e,o),k(e,l),k(e,r)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&G(l,t)},d(n){n&&m(e)}}}function rt(a){var r,n,o,s,i,d;let e,t,l;return t=new ce({props:{content:`${(n=(r=a[51].model.ollama)==null?void 0:r.details)!=null&&n.quantization_level?((s=(o=a[51].model.ollama)==null?void 0:o.details)==null?void 0:s.quantization_level)+" ":""}${(i=a[51].model.ollama)!=null&&i.size?`(${(((d=a[51].model.ollama)==null?void 0:d.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[ol]},$$scope:{ctx:a}}}),{c(){e=T("div"),K(t.$$.fragment),this.h()},l(f){e=M(f,"DIV",{class:!0});var y=z(e);Q(t.$$.fragment,y),y.forEach(m),this.h()},h(){_(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(f,y){B(f,e,y),X(t,e,null),l=!0},p(f,y){var w,g,b,$,p,E;const C={};y[0]&262144&&(C.content=`${(g=(w=f[51].model.ollama)==null?void 0:w.details)!=null&&g.quantization_level?(($=(b=f[51].model.ollama)==null?void 0:b.details)==null?void 0:$.quantization_level)+" ":""}${(p=f[51].model.ollama)!=null&&p.size?`(${(((E=f[51].model.ollama)==null?void 0:E.size)/1024**3).toFixed(1)}GB)`:""}`),y[0]&262144|y[1]&4096&&(C.$$scope={dirty:y,ctx:f}),t.$set(C)},i(f){l||(N(t.$$.fragment,f),l=!0)},o(f){P(t.$$.fragment,f),l=!1},d(f){f&&m(e),x(t)}}}function ol(a){var r,n;let e,t=(((n=(r=a[51].model.ollama)==null?void 0:r.details)==null?void 0:n.parameter_size)??"")+"",l;return{c(){e=T("span"),l=F(t),this.h()},l(o){e=M(o,"SPAN",{class:!0});var s=z(e);l=Y(s,t),s.forEach(m),this.h()},h(){_(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(o,s){B(o,e,s),k(e,l)},p(o,s){var i,d;s[0]&262144&&t!==(t=(((d=(i=o[51].model.ollama)==null?void 0:i.details)==null?void 0:d.parameter_size)??"")+"")&&G(l,t)},d(o){o&&m(e)}}}function sl(a){var y,C;let e,t,l,r,n,o=a[51].label+"",s,i,d,f=a[51].model.owned_by==="ollama"&&(((C=(y=a[51].model.ollama)==null?void 0:y.details)==null?void 0:C.parameter_size)??"")!==""&&rt(a);return{c(){e=T("img"),l=H(),r=T("div"),n=T("div"),s=F(o),i=H(),f&&f.c(),this.h()},l(w){e=M(w,"IMG",{src:!0,alt:!0,class:!0}),l=q(w),r=M(w,"DIV",{class:!0});var g=z(r);n=M(g,"DIV",{class:!0});var b=z(n);s=Y(b,o),b.forEach(m),i=q(g),f&&f.l(g),g.forEach(m),this.h()},h(){var w,g,b;qe(e.src,t=((b=(g=(w=a[51].model)==null?void 0:w.info)==null?void 0:g.meta)==null?void 0:b.profile_image_url)??"/static/favicon.png")||_(e,"src",t),_(e,"alt","Model"),_(e,"class","rounded-full size-5 flex items-center mr-2"),_(n,"class","line-clamp-1"),_(r,"class","flex items-center line-clamp-1")},m(w,g){B(w,e,g),B(w,l,g),B(w,r,g),k(r,n),k(n,s),k(r,i),f&&f.m(r,null),d=!0},p(w,g){var b,$,p,E,I;(!d||g[0]&262144&&!qe(e.src,t=((p=($=(b=w[51].model)==null?void 0:b.info)==null?void 0:$.meta)==null?void 0:p.profile_image_url)??"/static/favicon.png"))&&_(e,"src",t),(!d||g[0]&262144)&&o!==(o=w[51].label+"")&&G(s,o),w[51].model.owned_by==="ollama"&&(((I=(E=w[51].model.ollama)==null?void 0:E.details)==null?void 0:I.parameter_size)??"")!==""?f?(f.p(w,g),g[0]&262144&&N(f,1)):(f=rt(w),f.c(),N(f,1),f.m(r,null)):f&&(oe(),P(f,1,1,()=>{f=null}),se())},i(w){d||(N(f),d=!0)},o(w){P(f),d=!1},d(w){w&&(m(e),m(l),m(r)),f&&f.d()}}}function il(a){let e,t;return e=new ce({props:{content:"External",$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function fl(a){let e,t;return e=new ce({props:{content:"Direct",$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function ul(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,r){B(l,e,r)},p:ke,d(l){l&&m(e)}}}function cl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,r){B(l,e,r)},p:ke,d(l){l&&m(e)}}}function nt(a){var l,r,n;let e,t;return e=new ce({props:{content:`${Ue.parse(We((n=(r=(l=a[51].model)==null?void 0:l.info)==null?void 0:r.meta)==null?void 0:n.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[dl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,s){X(e,o,s),t=!0},p(o,s){var d,f,y;const i={};s[0]&262144&&(i.content=`${Ue.parse(We((y=(f=(d=o[51].model)==null?void 0:d.info)==null?void 0:f.meta)==null?void 0:y.description).replaceAll(`
`,"<br>"))}`),s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){t||(N(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){x(e,o)}}}function dl(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=T("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){_(e,"class","translate-y-[1px]")},m(l,r){B(l,e,r)},p:ke,d(l){l&&m(e)}}}function ot(a){var o;let e,t,l=fe((o=a[51].model)==null?void 0:o.tags.sort(wt)),r=[];for(let s=0;s<l.length;s+=1)r[s]=st(Ge(a,l,s));const n=s=>P(r[s],1,1,()=>{r[s]=null});return{c(){e=T("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DIV",{class:!0});var i=z(e);for(let d=0;d<r.length;d+=1)r[d].l(i);i.forEach(m),this.h()},h(){_(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(s,i){B(s,e,i);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);t=!0},p(s,i){var d;if(i[0]&262144){l=fe((d=s[51].model)==null?void 0:d.tags.sort(wt));let f;for(f=0;f<l.length;f+=1){const y=Ge(s,l,f);r[f]?(r[f].p(y,i),N(r[f],1)):(r[f]=st(y),r[f].c(),N(r[f],1),r[f].m(e,null))}for(oe(),f=l.length;f<r.length;f+=1)n(f);se()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)N(r[i]);t=!0}},o(s){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)P(r[i]);t=!1},d(s){s&&m(e),ye(r,s)}}}function ml(a){let e,t=a[54].name+"",l,r;return{c(){e=T("div"),l=F(t),r=H(),this.h()},l(n){e=M(n,"DIV",{class:!0});var o=z(e);l=Y(o,t),o.forEach(m),r=q(n),this.h()},h(){_(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(n,o){B(n,e,o),k(e,l),B(n,r,o)},p(n,o){o[0]&262144&&t!==(t=n[54].name+"")&&G(l,t)},d(n){n&&(m(e),m(r))}}}function st(a){let e,t;return e=new ce({props:{content:a[54].name,className:"flex-shrink-0",$$slots:{default:[ml]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},p(l,r){const n={};r[0]&262144&&(n.content=l[54].name),r[0]&262144|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function it(a){let e,t,l;return t=new Ht({}),{c(){e=T("div"),K(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=z(e);Q(t.$$.fragment,n),n.forEach(m),this.h()},h(){_(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(r,n){B(r,e,n),X(t,e,null),l=!0},i(r){l||(N(t.$$.fragment,r),l=!0)},o(r){P(t.$$.fragment,r),l=!1},d(r){r&&m(e),x(t)}}}function ft(a){var D,ee,R,$e,de,be,we,De,Ve;let e,t,l,r,n,o,s,i,d,f,y,C,w,g,b,$,p,E,I,v,L=a[21]&&(((ee=(D=a[51])==null?void 0:D.model)==null?void 0:ee.tags)??[]).length>0&&lt(a);i=new ce({props:{content:((R=a[22])==null?void 0:R.role)==="admin"?(($e=a[51])==null?void 0:$e.value)??"":"",placement:"top-start",$$slots:{default:[sl]},$$scope:{ctx:a}}});const S=[fl,il],U=[];function V(J,Z){var le;return(le=J[51].model)!=null&&le.direct?0:J[51].model.owned_by==="openai"?1:-1}~(f=V(a))&&(y=U[f]=S[f](a));let O=((we=(be=(de=a[51].model)==null?void 0:de.info)==null?void 0:be.meta)==null?void 0:we.description)&&nt(a),u=!a[21]&&(((Ve=(De=a[51])==null?void 0:De.model)==null?void 0:Ve.tags)??[]).length>0&&ot(a),h=a[0]===a[51].value&&it();function A(){return a[37](a[51],a[53])}return{c(){e=T("button"),t=T("div"),L&&L.c(),l=H(),r=T("div"),n=T("div"),o=T("div"),s=T("div"),K(i.$$.fragment),d=H(),y&&y.c(),C=H(),O&&O.c(),w=H(),u&&u.c(),g=H(),h&&h.c(),this.h()},l(J){e=M(J,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var Z=z(e);t=M(Z,"DIV",{class:!0});var le=z(t);L&&L.l(le),l=q(le),r=M(le,"DIV",{class:!0});var te=z(r);n=M(te,"DIV",{class:!0});var me=z(n);o=M(me,"DIV",{class:!0});var he=z(o);s=M(he,"DIV",{class:!0});var _e=z(s);Q(i.$$.fragment,_e),_e.forEach(m),he.forEach(m),me.forEach(m),d=q(te),y&&y.l(te),C=q(te),O&&O.l(te),w=q(te),u&&u.l(te),te.forEach(m),le.forEach(m),g=q(Z),h&&h.l(Z),Z.forEach(m),this.h()},h(){_(s,"class","flex items-center min-w-fit"),_(o,"class","line-clamp-1"),_(n,"class","flex items-center min-w-fit"),_(r,"class","flex items-center gap-2"),_(t,"class","flex flex-col"),_(e,"aria-label","model-item"),_(e,"class",b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),_(e,"data-arrow-selected",$=a[53]===a[17]),_(e,"data-value",p=a[51].value)},m(J,Z){B(J,e,Z),k(e,t),L&&L.m(t,null),k(t,l),k(t,r),k(r,n),k(n,o),k(o,s),X(i,s,null),k(r,d),~f&&U[f].m(r,null),k(r,C),O&&O.m(r,null),k(r,w),u&&u.m(r,null),k(e,g),h&&h.m(e,null),E=!0,I||(v=re(e,"click",A),I=!0)},p(J,Z){var me,he,_e,Ce,Ie,Te,Me,Ne,c;a=J,a[21]&&(((he=(me=a[51])==null?void 0:me.model)==null?void 0:he.tags)??[]).length>0?L?L.p(a,Z):(L=lt(a),L.c(),L.m(t,l)):L&&(L.d(1),L=null);const le={};Z[0]&4456448&&(le.content=((_e=a[22])==null?void 0:_e.role)==="admin"?((Ce=a[51])==null?void 0:Ce.value)??"":""),Z[0]&262144|Z[1]&4096&&(le.$$scope={dirty:Z,ctx:a}),i.$set(le);let te=f;f=V(a),f!==te&&(y&&(oe(),P(U[te],1,1,()=>{U[te]=null}),se()),~f?(y=U[f],y||(y=U[f]=S[f](a),y.c()),N(y,1),y.m(r,C)):y=null),(Me=(Te=(Ie=a[51].model)==null?void 0:Ie.info)==null?void 0:Te.meta)!=null&&Me.description?O?(O.p(a,Z),Z[0]&262144&&N(O,1)):(O=nt(a),O.c(),N(O,1),O.m(r,w)):O&&(oe(),P(O,1,1,()=>{O=null}),se()),!a[21]&&(((c=(Ne=a[51])==null?void 0:Ne.model)==null?void 0:c.tags)??[]).length>0?u?(u.p(a,Z),Z[0]&2359296&&N(u,1)):(u=ot(a),u.c(),N(u,1),u.m(r,null)):u&&(oe(),P(u,1,1,()=>{u=null}),se()),a[0]===a[51].value?h?Z[0]&262145&&N(h,1):(h=it(),h.c(),N(h,1),h.m(e,null)):h&&(oe(),P(h,1,1,()=>{h=null}),se()),(!E||Z[0]&131072&&b!==(b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(a[53]===a[17]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&_(e,"class",b),(!E||Z[0]&131072&&$!==($=a[53]===a[17]))&&_(e,"data-arrow-selected",$),(!E||Z[0]&262144&&p!==(p=a[51].value))&&_(e,"data-value",p)},i(J){E||(N(i.$$.fragment,J),N(y),N(O),N(u),N(h),E=!0)},o(J){P(i.$$.fragment,J),P(y),P(O),P(u),P(h),E=!1},d(J){J&&m(e),L&&L.d(),x(i),~f&&U[f].d(),O&&O.d(),u&&u.d(),h&&h.d(),I=!1,v()}}}function ut(a){let e,t;return e=new ce({props:{content:a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]}),placement:"top-start",$$slots:{default:[hl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,r){X(e,l,r),t=!0},p(l,r){const n={};r[0]&1049088&&(n.content=l[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[9]})),r[0]&1049088|r[1]&4096&&(n.$$scope={dirty:r,ctx:l}),e.$set(n)},i(l){t||(N(e.$$.fragment,l),t=!0)},o(l){P(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function hl(a){let e,t,l=a[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:a[9]})+"",r,n,o;return{c(){e=T("button"),t=T("div"),r=F(l),this.h()},l(s){e=M(s,"BUTTON",{class:!0});var i=z(e);t=M(i,"DIV",{class:!0});var d=z(t);r=Y(d,l),d.forEach(m),i.forEach(m),this.h()},h(){_(t,"class","truncate"),_(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(s,i){B(s,e,i),k(e,t),k(t,r),n||(o=re(e,"click",a[38]),n=!0)},p(s,i){i[0]&1049088&&l!==(l=s[20].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[9]})+"")&&G(r,l)},d(s){s&&m(e),n=!1,o()}}}function ct(a){let e,t=a[19][a[48]].digest+"",l;return{c(){e=T("div"),l=F(t),this.h()},l(r){e=M(r,"DIV",{class:!0});var n=z(e);l=Y(n,t),n.forEach(m),this.h()},h(){_(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(r,n){B(r,e,n),k(e,l)},p(r,n){n[0]&524288&&t!==(t=r[19][r[48]].digest+"")&&G(l,t)},d(r){r&&m(e)}}}function _l(a){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function n(){return a[39](a[48])}return{c(){e=T("button"),e.innerHTML=t,this.h()},l(o){e=M(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){_(e,"class","text-gray-800 dark:text-gray-100")},m(o,s){B(o,e,s),l||(r=re(e,"click",n),l=!0)},p(o,s){a=o},d(o){o&&m(e),l=!1,r()}}}function dt(a){let e,t,l,r=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,n,o,s,i,d,f=a[48]+"",y,C,w,g,b="pullProgress"in a[19][a[48]]?`(${a[19][a[48]].pullProgress}%)`:"",$,p,E,I,v,L,S,U="digest"in a[19][a[48]]&&a[19][a[48]].digest&&ct(a);return v=new ce({props:{content:a[20].t("Cancel"),$$slots:{default:[_l]},$$scope:{ctx:a}}}),{c(){e=T("div"),t=T("div"),l=T("div"),l.innerHTML=r,n=H(),o=T("div"),s=T("div"),i=T("div"),d=F('Downloading "'),y=F(f),C=F('"'),w=H(),g=T("div"),$=F(b),p=H(),U&&U.c(),E=H(),I=T("div"),K(v.$$.fragment),L=H(),this.h()},l(V){e=M(V,"DIV",{class:!0});var O=z(e);t=M(O,"DIV",{class:!0});var u=z(t);l=M(u,"DIV",{class:!0,"data-svelte-h":!0}),Ee(l)!=="svelte-102rp4j"&&(l.innerHTML=r),n=q(u),o=M(u,"DIV",{class:!0});var h=z(o);s=M(h,"DIV",{class:!0});var A=z(s);i=M(A,"DIV",{class:!0});var D=z(i);d=Y(D,'Downloading "'),y=Y(D,f),C=Y(D,'"'),D.forEach(m),w=q(A),g=M(A,"DIV",{class:!0});var ee=z(g);$=Y(ee,b),ee.forEach(m),A.forEach(m),p=q(h),U&&U.l(h),h.forEach(m),u.forEach(m),E=q(O),I=M(O,"DIV",{class:!0});var R=z(I);Q(v.$$.fragment,R),R.forEach(m),L=q(O),O.forEach(m),this.h()},h(){_(l,"class","-ml-2 mr-2.5 translate-y-0.5"),_(i,"class","line-clamp-1"),_(g,"class","shrink-0"),_(s,"class","flex gap-1"),_(o,"class","flex flex-col self-start"),_(t,"class","flex"),_(I,"class","mr-2 ml-1 translate-y-0.5"),_(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(V,O){B(V,e,O),k(e,t),k(t,l),k(t,n),k(t,o),k(o,s),k(s,i),k(i,d),k(i,y),k(i,C),k(s,w),k(s,g),k(g,$),k(o,p),U&&U.m(o,null),k(e,E),k(e,I),X(v,I,null),k(e,L),S=!0},p(V,O){(!S||O[0]&524288)&&f!==(f=V[48]+"")&&G(y,f),(!S||O[0]&524288)&&b!==(b="pullProgress"in V[19][V[48]]?`(${V[19][V[48]].pullProgress}%)`:"")&&G($,b),"digest"in V[19][V[48]]&&V[19][V[48]].digest?U?U.p(V,O):(U=ct(V),U.c(),U.m(o,null)):U&&(U.d(1),U=null);const u={};O[0]&1048576&&(u.content=V[20].t("Cancel")),O[0]&524288|O[1]&4096&&(u.$$scope={dirty:O,ctx:V}),v.$set(u)},i(V){S||(N(v.$$.fragment,V),S=!0)},o(V){P(v.$$.fragment,V),S=!1},d(V){V&&m(e),U&&U.d(),x(v)}}}function mt(a){let e,t,l,r,n,o,s,i=a[20].t("Temporary Chat")+"",d,f,y,C,w,g,b;return o=new ll({props:{className:"size-4",strokeWidth:"2.5"}}),C=new Xt({props:{state:a[23]}}),{c(){e=T("hr"),t=H(),l=T("div"),r=T("button"),n=T("div"),K(o.$$.fragment),s=H(),d=F(i),f=H(),y=T("div"),K(C.$$.fragment),this.h()},l($){e=M($,"HR",{class:!0}),t=q($),l=M($,"DIV",{class:!0});var p=z(l);r=M(p,"BUTTON",{class:!0});var E=z(r);n=M(E,"DIV",{class:!0});var I=z(n);Q(o.$$.fragment,I),s=q(I),d=Y(I,i),I.forEach(m),f=q(E),y=M(E,"DIV",{});var v=z(y);Q(C.$$.fragment,v),v.forEach(m),E.forEach(m),p.forEach(m),this.h()},h(){_(e,"class","border-gray-100 dark:border-gray-800"),_(n,"class","flex gap-2.5 items-center"),_(r,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),_(l,"class","flex items-center mx-2 my-2")},m($,p){B($,e,p),B($,t,p),B($,l,p),k(l,r),k(r,n),X(o,n,null),k(n,s),k(n,d),k(r,f),k(r,y),X(C,y,null),w=!0,g||(b=re(r,"click",a[40]),g=!0)},p($,p){(!w||p[0]&1048576)&&i!==(i=$[20].t("Temporary Chat")+"")&&G(d,i);const E={};p[0]&8388608&&(E.state=$[23]),C.$set(E)},i($){w||(N(o.$$.fragment,$),N(C.$$.fragment,$),w=!0)},o($){P(o.$$.fragment,$),P(C.$$.fragment,$),w=!1},d($){$&&(m(e),m(t),m(l)),x(o),x(C),g=!1,b()}}}function gl(a){var O;let e,t,l=a[14]&&a[6].filter(ht).length>0,r,n,o=!(a[9].trim()in a[19])&&a[9]&&a[16]&&((O=a[22])==null?void 0:O.role)==="admin",s,i,d,f,y,C,w,g=a[3]&&Ke(a),b=l&&Qe(a),$=fe(a[18].filter(vt)),p=[];for(let u=0;u<$.length;u+=1)p[u]=ft(Ye(a,$,u));const E=u=>P(p[u],1,1,()=>{p[u]=null});let I=null;$.length||(I=tt(a));let v=o&&ut(a),L=fe(Object.keys(a[19])),S=[];for(let u=0;u<L.length;u+=1)S[u]=dt(Fe(a,L,u));const U=u=>P(S[u],1,1,()=>{S[u]=null});let V=a[5]&&mt(a);return{c(){g&&g.c(),e=H(),t=T("div"),b&&b.c(),r=H();for(let u=0;u<p.length;u+=1)p[u].c();I&&I.c(),n=H(),v&&v.c(),s=H();for(let u=0;u<S.length;u+=1)S[u].c();i=H(),V&&V.c(),d=H(),f=T("div"),y=H(),C=T("div"),this.h()},l(u){g&&g.l(u),e=q(u),t=M(u,"DIV",{class:!0});var h=z(t);b&&b.l(h),r=q(h);for(let A=0;A<p.length;A+=1)p[A].l(h);I&&I.l(h),n=q(h),v&&v.l(h),s=q(h);for(let A=0;A<S.length;A+=1)S[A].l(h);h.forEach(m),i=q(u),V&&V.l(u),d=q(u),f=M(u,"DIV",{class:!0}),z(f).forEach(m),y=q(u),C=M(u,"DIV",{class:!0}),z(C).forEach(m),this.h()},h(){_(t,"class","px-3 mb-2 max-h-64 overflow-y-auto scrollbar-hidden group relative"),_(f,"class","hidden w-[42rem]"),_(C,"class","hidden w-[32rem]")},m(u,h){g&&g.m(u,h),B(u,e,h),B(u,t,h),b&&b.m(t,null),k(t,r);for(let A=0;A<p.length;A+=1)p[A]&&p[A].m(t,null);I&&I.m(t,null),k(t,n),v&&v.m(t,null),k(t,s);for(let A=0;A<S.length;A+=1)S[A]&&S[A].m(t,null);B(u,i,h),V&&V.m(u,h),B(u,d,h),B(u,f,h),B(u,y,h),B(u,C,h),w=!0},p(u,h){var A;if(u[3]?g?(g.p(u,h),h[0]&8&&N(g,1)):(g=Ke(u),g.c(),N(g,1),g.m(e.parentNode,e)):g&&(oe(),P(g,1,1,()=>{g=null}),se()),h[0]&16448&&(l=u[14]&&u[6].filter(ht).length>0),l?b?b.p(u,h):(b=Qe(u),b.c(),b.m(t,r)):b&&(b.d(1),b=null),h[0]&7741441){$=fe(u[18].filter(vt));let D;for(D=0;D<$.length;D+=1){const ee=Ye(u,$,D);p[D]?(p[D].p(ee,h),N(p[D],1)):(p[D]=ft(ee),p[D].c(),N(p[D],1),p[D].m(t,n))}for(oe(),D=$.length;D<p.length;D+=1)E(D);se(),!$.length&&I?I.p(u,h):$.length?I&&(I.d(1),I=null):(I=tt(u),I.c(),I.m(t,n))}if(h[0]&4784640&&(o=!(u[9].trim()in u[19])&&u[9]&&u[16]&&((A=u[22])==null?void 0:A.role)==="admin"),o?v?(v.p(u,h),h[0]&4784640&&N(v,1)):(v=ut(u),v.c(),N(v,1),v.m(t,s)):v&&(oe(),P(v,1,1,()=>{v=null}),se()),h[0]&135790592){L=fe(Object.keys(u[19]));let D;for(D=0;D<L.length;D+=1){const ee=Fe(u,L,D);S[D]?(S[D].p(ee,h),N(S[D],1)):(S[D]=dt(ee),S[D].c(),N(S[D],1),S[D].m(t,null))}for(oe(),D=L.length;D<S.length;D+=1)U(D);se()}u[5]?V?(V.p(u,h),h[0]&32&&N(V,1)):(V=mt(u),V.c(),N(V,1),V.m(d.parentNode,d)):V&&(oe(),P(V,1,1,()=>{V=null}),se())},i(u){if(!w){N(g);for(let h=0;h<$.length;h+=1)N(p[h]);N(v);for(let h=0;h<L.length;h+=1)N(S[h]);N(V),w=!0}},o(u){P(g),p=p.filter(Boolean);for(let h=0;h<p.length;h+=1)P(p[h]);P(v),S=S.filter(Boolean);for(let h=0;h<S.length;h+=1)P(S[h]);P(V),w=!1},d(u){u&&(m(e),m(t),m(i),m(d),m(f),m(y),m(C)),g&&g.d(u),b&&b.d(),ye(p,u),I&&I.d(),v&&v.d(),ye(S,u),V&&V.d(u)}}}function pl(a){let e;const t=a[28].default,l=Tt(t,a,a[43],null),r=l||gl(a);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,o){r&&r.m(n,o),e=!0},p(n,o){l?l.p&&(!e||o[1]&4096)&&Mt(l,t,n,n[43],e?zt(t,n[43],o,null):Nt(n[43]),null):r&&r.p&&(!e||o[0]&16744057)&&r.p(n,e?o:[-1,-1])},i(n){e||(N(r,n),e=!0)},o(n){P(r,n),e=!1},d(n){r&&r.d(n)}}}function vl(a){let e,t,l,r;return e=new St({props:{class:"relative w-full font-primary","aria-label":a[2],id:"model-selector-"+a[1]+"-button",$$slots:{default:[nl]},$$scope:{ctx:a}}}),l=new At({props:{class:" z-40 "+(a[21]?"w-full":`${a[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Lt,side:a[21]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[pl]},$$scope:{ctx:a}}}),{c(){K(e.$$.fragment),t=H(),K(l.$$.fragment)},l(n){Q(e.$$.fragment,n),t=q(n),Q(l.$$.fragment,n)},m(n,o){X(e,n,o),B(n,t,o),X(l,n,o),r=!0},p(n,o){const s={};o[0]&4&&(s["aria-label"]=n[2]),o[0]&2&&(s.id="model-selector-"+n[1]+"-button"),o[0]&33028|o[1]&4096&&(s.$$scope={dirty:o,ctx:n}),e.$set(s);const i={};o[0]&2097280&&(i.class=" z-40 "+(n[21]?"w-full":`${n[7]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),o[0]&2097152&&(i.side=n[21]?"bottom":"bottom-start"),o[0]&16744057|o[1]&4096&&(i.$$scope={dirty:o,ctx:n}),l.$set(i)},i(n){r||(N(e.$$.fragment,n),N(l.$$.fragment,n),r=!0)},o(n){P(e.$$.fragment,n),P(l.$$.fragment,n),r=!1},d(n){n&&m(t),x(e,n),x(l,n)}}}function bl(a){let e,t,l;function r(o){a[42](o)}let n={onOpenChange:a[41],closeFocus:!1,$$slots:{default:[vl]},$$scope:{ctx:a}};return a[13]!==void 0&&(n.open=a[13]),e=new Bt({props:n}),yt.push(()=>Ot(e,"open",r)),{c(){K(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,s){X(e,o,s),l=!0},p(o,s){const i={};s[0]&512&&(i.onOpenChange=o[41]),s[0]&16777215|s[1]&4096&&(i.$$scope={dirty:s,ctx:o}),!t&&s[0]&8192&&(t=!0,i.open=o[13],Dt(()=>t=!1)),e.$set(i)},i(o){l||(N(e.$$.fragment,o),l=!0)},o(o){P(e.$$.fragment,o),l=!1},d(o){x(e,o)}}}const ht=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},_t=a=>{var e;return(e=a.model)==null?void 0:e.direct},gt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="ollama"},pt=a=>{var e;return((e=a.model)==null?void 0:e.owned_by)==="openai"},wl=a=>{a.deltaY!==0&&(a.preventDefault(),a.currentTarget.scrollLeft+=a.deltaY)},vt=a=>{var e,t,l;return!(((l=(t=(e=a.model)==null?void 0:e.info)==null?void 0:t.meta)==null?void 0:l.hidden)??!1)},bt=(a,e)=>a.name.localeCompare(e.name),wt=(a,e)=>a.name.localeCompare(e.name);function kl(a,e,t){let l,r,n,o,s,i,d,f;pe(a,ve,c=>t(19,r=c)),pe(a,Ft,c=>t(44,o=c)),pe(a,Yt,c=>t(45,s=c)),pe(a,Gt,c=>t(21,i=c)),pe(a,Rt,c=>t(22,d=c)),pe(a,Ze,c=>t(23,f=c));let{$$slots:y={},$$scope:C}=e;const w=Vt("i18n");pe(a,w,c=>t(20,n=c)),Ct();let{id:g=""}=e,{value:b=""}=e,{placeholder:$="Select a model"}=e,{searchEnabled:p=!0}=e,{searchPlaceholder:E=n.t("Search a model")}=e,{showTemporaryChatControl:I=!1}=e,{items:v=[]}=e,{className:L="w-[32rem]"}=e,{triggerClassName:S="text-lg"}=e,U,V=!1,O=[],u="",h="",A="",D="",ee=null,R=0;const $e=new Pt(v.map(c=>{var W,ne,ge,ie,ze;return{...c,modelName:(W=c.model)==null?void 0:W.name,tags:(((ne=c.model)==null?void 0:ne.tags)??[]).map(Oe=>Oe.name).join(" "),desc:(ze=(ie=(ge=c.model)==null?void 0:ge.info)==null?void 0:ie.meta)==null?void 0:ze.description}}),{keys:["value","tags","modelName"],threshold:.4}),de=async()=>{await je();const c=l.findIndex(W=>W.value===b);c>=0?t(17,R=c):t(17,R=0),await je();const j=document.querySelector('[data-arrow-selected="true"]');j==null||j.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},be=async()=>{var ne;const c=h.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(r),r[c]){ue.error(n.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:c}));return}if(Object.keys(r).length===3){ue.error(n.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[j,W]=await Zt(localStorage.token,c,"0").catch(ge=>(ue.error(`${ge}`),null));if(j){const ge=j.body.pipeThrough(new TextDecoderStream).pipeThrough(Kt(`
`)).getReader();for(ve.set({...r,[c]:{...r[c],abortController:W,reader:ge,done:!1}});;)try{const{value:ie,done:ze}=await ge.read();if(ze)break;let Oe=ie.split(`
`);for(const Ae of Oe)if(Ae!==""){let ae=JSON.parse(Ae);if(console.log(ae),ae.error)throw ae.error;if(ae.detail)throw ae.detail;if(ae.status)if(ae.digest){let Be=0;ae.completed?Be=Math.round(ae.completed/ae.total*1e3)/10:Be=100,ve.set({...r,[c]:{...r[c],pullProgress:Be,digest:ae.digest}})}else ue.success(ae.status),ve.set({...r,[c]:{...r[c],done:ae.status==="success"}})}}catch(ie){console.log(ie),typeof ie!="string"&&(ie=ie.message),ue.error(`${ie}`);break}r[c].done?(ue.success(n.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:c})),Jt.set(await Qt(localStorage.token,((ne=s==null?void 0:s.features)==null?void 0:ne.enable_direct_connections)&&((o==null?void 0:o.directConnections)??null)))):ue.error(n.t("Download canceled")),delete r[c],ve.set({...r})}};It(async()=>{t(16,ee=await Ut(localStorage.token).catch(c=>!1)),v&&(t(14,O=v.flatMap(c=>{var j;return((j=c.model)==null?void 0:j.tags)??[]}).map(c=>c.name)),t(14,O=Array.from(new Set(O)).sort((c,j)=>c.localeCompare(j))))});const we=async c=>{const{reader:j,abortController:W}=r[c];W&&W.abort(),j&&(await j.cancel(),delete r[c],ve.set({...r}),await Wt(localStorage.token,c),ue.success(`${c} download has been canceled`))};function De(){h=this.value,t(9,h)}const Ve=c=>{if(c.code==="Enter"&&l.length>0){t(0,b=l[R].value),t(13,V=!1);return}else c.code==="ArrowDown"?t(17,R=Math.min(R+1,l.length-1)):c.code==="ArrowUp"?t(17,R=Math.max(R-1,0)):t(17,R=0);const j=document.querySelector('[data-arrow-selected="true"]');j==null||j.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},J=()=>{t(11,D=""),t(10,A="")},Z=()=>{t(10,A=""),t(11,D="ollama")},le=()=>{t(10,A=""),t(11,D="openai")},te=()=>{t(10,A=""),t(11,D="direct")},me=c=>{t(11,D=""),t(10,A=c)};function he(c){yt[c?"unshift":"push"](()=>{U=c,t(12,U)})}const _e=(c,j)=>{t(0,b=c.value),t(17,R=j),t(13,V=!1)},Ce=()=>{be()},Ie=c=>{we(c)},Te=async()=>{Ze.set(!f),await xt("/");const c=document.getElementById("new-chat-button");setTimeout(()=>{c==null||c.click()},0),f?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(13,V=!1)},Me=async()=>{t(9,h=""),window.setTimeout(()=>{var c;return(c=document.getElementById("model-search-input"))==null?void 0:c.focus()},0),de()};function Ne(c){V=c,t(13,V)}return a.$$set=c=>{"id"in c&&t(1,g=c.id),"value"in c&&t(0,b=c.value),"placeholder"in c&&t(2,$=c.placeholder),"searchEnabled"in c&&t(3,p=c.searchEnabled),"searchPlaceholder"in c&&t(4,E=c.searchPlaceholder),"showTemporaryChatControl"in c&&t(5,I=c.showTemporaryChatControl),"items"in c&&t(6,v=c.items),"className"in c&&t(7,L=c.className),"triggerClassName"in c&&t(8,S=c.triggerClassName),"$$scope"in c&&t(43,C=c.$$scope)},a.$$.update=()=>{a.$$.dirty[0]&65&&t(15,u=v.find(c=>c.value===b)??""),a.$$.dirty[0]&3648&&t(18,l=h?$e.search(h).map(c=>c.item).filter(c=>{var j;return A===""?!0:(((j=c.model)==null?void 0:j.tags)??[]).map(W=>W.name).includes(A)}).filter(c=>{var j,W,ne;if(D==="")return!0;if(D==="ollama")return((j=c.model)==null?void 0:j.owned_by)==="ollama";if(D==="openai")return((W=c.model)==null?void 0:W.owned_by)==="openai";if(D==="direct")return(ne=c.model)==null?void 0:ne.direct}):v.filter(c=>{var j;return A===""?!0:(((j=c.model)==null?void 0:j.tags)??[]).map(W=>W.name).includes(A)}).filter(c=>{var j,W,ne;if(D==="")return!0;if(D==="ollama")return((j=c.model)==null?void 0:j.owned_by)==="ollama";if(D==="openai")return((W=c.model)==null?void 0:W.owned_by)==="openai";if(D==="direct")return(ne=c.model)==null?void 0:ne.direct})),a.$$.dirty[0]&3072&&de()},[b,g,$,p,E,I,v,L,S,h,A,D,U,V,O,u,ee,R,l,r,n,i,d,f,w,de,be,we,y,De,Ve,J,Z,le,te,me,he,_e,Ce,Ie,Te,Me,Ne,C]}class ql extends Et{constructor(e){super(),$t(this,e,kl,bl,kt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:6,className:7,triggerClassName:8},null,[-1,-1])}}export{ql as S};
//# sourceMappingURL=DyZYOIrl.js.map
