"use strict";(self.webpackChunk_jupytercad_jupytercad_core=self.webpackChunk_jupytercad_jupytercad_core||[]).push([[813],{2813:(e,t,r)=>{r.r(t),r.d(t,{JupyterCadDocumentWidgetFactory:()=>y,JupyterCadWorkerRegistry:()=>E,default:()=>q});var i=r(9498),o=r(1320),n=r(652),s=r(9569),a=r(9366),d=r(5545),c=r(6928),p=r(650),l=r(4258),m=r(8596);class y extends m.ABCWidgetFactory{constructor(e){const{backendCheck:t,externalCommandRegistry:r}=e;super(function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]])}return r}(e,["backendCheck","externalCommandRegistry"])),this.options=e,this._backendCheck=t,this._commands=e.commands,this._workerRegistry=e.workerRegistry,this._externalCommandRegistry=r}createNewWidget(e){if(this._backendCheck&&!this._backendCheck())throw new Error("Requested backend is not installed");const{model:t}=e;t.filePath=e.localPath,e.pathChanged.connect((()=>{t.filePath=e.localPath}));const r=new o.JupyterCadPanel({model:t,workerRegistry:this._workerRegistry,manager:this.options.manager,contentFactory:this.options.contentFactory,mimeTypeService:this.options.mimeTypeService,rendermime:this.options.rendermime,consoleTracker:this.options.consoleTracker,commandRegistry:this.options.commands}),i=new o.ToolbarWidget({commands:this._commands,model:t,externalCommands:this._externalCommandRegistry.getCommands()});return new o.JupyterCadDocumentWidget({context:e,content:r,toolbar:i})}}class u{constructor(e){this.collaborative=!0,this._disposed=!1,this._annotationModel=e.annotationModel}get name(){return"jupytercad-jcadmodel"}get contentType(){return"jcad"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new n.JupyterCadModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference,annotationModel:this._annotationModel})}}const g="JupyterCAD",h="jcad",b="JupyterCAD";var f;!function(e){e.createNew="jupytercad:create-new-jcad-file"}(f||(f={}));const P={id:"jupytercad:jcadplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IAnnotationToken,c.IFileBrowserFactory,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken,d.ConsolePanel.IContentFactory,a.IEditorServices,l.IRenderMimeRegistry,d.IConsoleTracker],optional:[p.ILauncher,s.ICommandPalette,i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,s,a,d,c,p,l,P,C,A,j)=>{const x=new y({name:g,modelName:"jupytercad-jcadmodel",fileTypes:[h],defaultFor:[h],tracker:t,commands:e.commands,workerRegistry:a,externalCommandRegistry:d,manager:e.serviceManager,contentFactory:c,rendermime:l,mimeTypeService:p.mimeTypeService,consoleTracker:P});e.docRegistry.addWidgetFactory(x);const T=new m.MimeDocumentFactory({dataType:"json",rendermime:l,modelName:"jupytercad-jcadmodel",name:"JSON Editor",primaryFileType:e.docRegistry.getFileType("json"),fileTypes:[h]});e.docRegistry.addWidgetFactory(T);const R=new u({annotationModel:i});e.docRegistry.addModelFactory(R),e.docRegistry.addFileType({name:h,displayName:"JCAD",mimeTypes:["text/json"],extensions:[".jcad",".JCAD"],fileFormat:"text",contentType:h,icon:o.logoIcon});if(j&&j.sharedModelFactory.registerDocumentFactory(h,(()=>new n.JupyterCadDoc)),x.widgetCreated.connect(((i,n)=>{n.title.icon=o.logoIcon,n.context.pathChanged.connect((()=>{t.save(n)})),r.themeChanged.connect(((e,t)=>n.model.themeChanged.emit(t))),t.add(n),e.shell.activateById("jupytercad::leftControlPanel")})),e.commands.addCommand(f.createNew,{label:e=>"CAD File",caption:"Create a new JCAD Editor",icon:o.logoIcon,execute:async t=>{var r;const i=t.cwd||(null===(r=s.tracker.currentWidget)||void 0===r?void 0:r.model.path);let o=await e.serviceManager.contents.newUntitled({path:i,type:"file",ext:".jcad"});return o=await e.serviceManager.contents.save(o.path,Object.assign(Object.assign({},o),{format:"text",size:void 0,content:`{\n\t"schemaVersion": "${n.SCHEMA_VERSION}",\n\t"objects": [],\n\t"options": {},\n\t"metadata": {},\n\t"outputs": {}}`})),e.commands.execute("docmanager:open",{path:o.path,factory:g})}}),C&&C.add({command:f.createNew,category:"Other",rank:1}),A){A.addItem({command:f.createNew,category:b});for(const e in o.CommandIDs)A.addItem({command:o.CommandIDs[e],category:b})}}};var C=r(7262),A=r(4602);class j extends n.JupyterCadDoc{constructor(){super(),this.editable=!1,this.toJcadEndpoint="jupytercad/export",this._sourceObserver=e=>{const t=[];e.forEach((e=>{e.keys.forEach(((r,i)=>{t.push({name:"Step File",key:i,newValue:C.JSONExt.deepCopy(e.target.toJSON())})}))})),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new A.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}set source(e){this._source.insert(0,e)}get version(){return n.SCHEMA_VERSION}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Step File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STEP",Color:"#808080",Placement:{Angle:0,Axis:[0,0,1],Position:[0,0,0]}}}]:[]}setSource(e){this._source.insert(0,e)}static create(){return new j}}class x extends n.JupyterCadModel{fromString(e){this.sharedModel.source=e,this.dirty=!0}createSharedModel(){return j.create()}}class T{constructor(){this.collaborative=!0,this._disposed=!1}get name(){return"jupytercad-stepmodel"}get contentType(){return"step"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new x({sharedModel:e.sharedModel,languagePreference:e.languagePreference})}}const R={id:"jupytercad:stepplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,n,s)=>{const a=new y({name:"JupyterCAD STEP Viewer",modelName:"jupytercad-stepmodel",fileTypes:["step"],defaultFor:["step"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:n});e.docRegistry.addWidgetFactory(a);const d=new T;e.docRegistry.addModelFactory(d),e.docRegistry.addFileType({name:"step",displayName:"STEP",mimeTypes:["text/plain"],extensions:[".step",".STEP"],fileFormat:"text",contentType:"step",icon:o.stpIcon});s&&s.sharedModelFactory.registerDocumentFactory("step",(()=>new j)),a.widgetCreated.connect(((i,n)=>{n.title.icon=o.stpIcon,n.context.pathChanged.connect((()=>{t.save(n)})),r.themeChanged.connect(((e,t)=>n.model.themeChanged.emit(t))),t.add(n),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")}))}};class S extends n.JupyterCadDoc{constructor(){super(),this.editable=!1,this.toJcadEndpoint="jupytercad/export",this._sourceObserver=e=>{const t=[];e.forEach((e=>{e.keys.forEach(((r,i)=>{t.push({name:"Stl File",key:i,newValue:C.JSONExt.deepCopy(e.target.toJSON())})}))})),this._objectChanged.emit({objectChange:t}),this._changed.emit({objectChange:t})},this._objectChanged=new A.Signal(this),this._source=this.ydoc.getText("source"),this._source.observeDeep(this._sourceObserver)}set source(e){this._source.insert(0,e)}get version(){return n.SCHEMA_VERSION}get objectsChanged(){return this._objectChanged}get objects(){return this._source.toJSON()?[{name:"Stl File",visible:!0,shape:"Part::Any",parameters:{Content:this._source.toJSON(),Type:"STL",Color:"#808080",Placement:{Angle:0,Axis:[0,0,1],Position:[0,0,0]}}}]:[]}setSource(e){this._source.insert(0,e)}static create(){return new S}}class v extends n.JupyterCadModel{fromString(e){this.sharedModel.source=e,this.dirty=!0}createSharedModel(){return S.create()}}class k{constructor(){this.collaborative=!0,this._disposed=!1}get name(){return"jupytercad-stlmodel"}get contentType(){return"stl"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new v({sharedModel:e.sharedModel,languagePreference:e.languagePreference})}}const w={id:"jupytercad:stlplugin",requires:[n.IJupyterCadDocTracker,s.IThemeManager,n.IJCadWorkerRegistryToken,n.IJCadExternalCommandRegistryToken],optional:[i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,n,s)=>{const a=new y({name:"JupyterCAD STL Viewer",modelName:"jupytercad-stlmodel",fileTypes:["stl"],defaultFor:["stl"],tracker:t,commands:e.commands,workerRegistry:i,externalCommandRegistry:n});e.docRegistry.addWidgetFactory(a);const d=new k;e.docRegistry.addModelFactory(d),e.docRegistry.addFileType({name:"stl",displayName:"STL",mimeTypes:["text/plain"],extensions:[".stl",".STL"],fileFormat:"text",contentType:"stl",icon:o.stlIcon});s&&s.sharedModelFactory.registerDocumentFactory("stl",(()=>new S)),a.widgetCreated.connect(((i,n)=>{n.title.icon=o.stlIcon,n.context.pathChanged.connect((()=>{t.save(n)})),r.themeChanged.connect(((e,t)=>n.model.themeChanged.emit(t))),t.add(n),e.shell.activateById("jupytercad::leftControlPanel"),e.shell.activateById("jupytercad::rightControlPanel")}))}};var _=r(128),I=r(7579),M=r(4178);class E{constructor(){this._registry=new Map;const e=new Worker(new URL(r.p+r.u(201),r.b));this._defaultWorker=new M.OccWorker({worker:e})}registerWorker(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}unregisterWorker(e){this._registry.has(e)||this._registry.delete(e)}getDefaultWorker(){return this._defaultWorker}getWorker(e){return this._registry.get(e)}getAllWorkers(){return[...this._registry.values()]}}const F=JSON.parse('{"Part::GeomCircle":{"type":"object","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},"Part::GeomLineSegment":{"type":"object","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}},"Placement of the object":{"type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}},"Post::Operator":{"type":"object","required":["Object"],"additionalProperties":true,"properties":{"Object":{"type":"string","description":"The name of input object"}}},"Part::Any":{"type":"object","required":["Content","Type"],"additionalProperties":false,"properties":{"Content":{"type":"string","description":"The string content of the object"},"Type":{"type":"string","enum":["brep","step","stl"]},"Color":{"type":"string","description":"The color of the object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Box":{"type":"object","required":["Length","Width","Height","Placement"],"additionalProperties":false,"properties":{"Length":{"type":"number","exclusiveMinimum":0,"description":"The length of the box (dX)"},"Width":{"type":"number","exclusiveMinimum":0,"description":"The width of the box (dY)"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the box (dZ)"},"Color":{"type":"string","description":"The color of the box","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Chamfer":{"type":"object","required":["Base","Edge","Dist","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object","fcType":"App::PropertyLink"},"Edge":{"type":"number","minimum":0,"description":"The edge index"},"Dist":{"type":"number","minimum":0,"description":"The distance of the symmetric chamfer"},"Color":{"type":"string","description":"The color of the chamfer","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cone":{"type":"object","required":["Radius1","Radius2","Height","Angle","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The bottom radius of the cone"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The top radius of the cone"},"Height":{"type":"number","exclusiveMinimum":0,"description":"The height of the cone"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"The angle of the cone"},"Color":{"type":"string","description":"The color of the cone","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cut":{"type":"object","required":["Base","Tool","Refine","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The base of the cut operator","fcType":"App::PropertyLink"},"Tool":{"type":"string","description":"The tool of the cut operator","fcType":"App::PropertyLink"},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the cut object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Cylinder":{"type":"object","required":["Radius","Angle","Height","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius of the cylinder"},"Height":{"type":"number","exclusiveMinimum":0,"description":"Height of the cylinder"},"Angle":{"type":"number","exclusiveMinimum":0,"description":"Angle of the cylinder"},"Color":{"type":"string","description":"The color of the cylinder","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Extrusion":{"type":"object","required":["Base","Dir","LengthFwd","LengthRev","Solid","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"Shape to extrude","fcType":"App::PropertyLink"},"Dir":{"type":"array","description":"Direction of extrusion","items":{"type":"number"}},"LengthFwd":{"type":"number","description":"Length of extrusion along the direction"},"LengthRev":{"type":"number","description":"Length of extrusion against the direction"},"Solid":{"type":"boolean","description":"If true, creating a solid"},"Color":{"type":"string","description":"The color of the extrusion","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Fillet":{"type":"object","required":["Base","Edge","Radius","Placement"],"additionalProperties":false,"properties":{"Base":{"type":"string","description":"The name of input object","fcType":"App::PropertyLink"},"Edge":{"type":"number","minimum":0,"description":"The edge index"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius for the fillet"},"Color":{"type":"string","description":"The color of the fillet","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::MultiCommon":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The objects to intersect","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the intersection","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Sketcher::SketchObject":{"type":"object","required":["AttachmentOffset","Geometry"],"additionalProperties":false,"properties":{"AttachmentOffset":{"description":"The attachment offset","type":"object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}},"Geometry":{"type":"array","description":"The geometry list","items":{"anyOf":[{"type":"object","description":"Part::GeomCircle","title":"IGeomCircle","required":["TypeId","CenterX","CenterY","CenterZ","NormalX","NormalY","NormalZ","AngleXU","Radius"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomCircle","description":"Geometry type"},"CenterX":{"type":"number","description":"CenterX"},"CenterY":{"type":"number","description":"CenterY"},"CenterZ":{"type":"number","description":"CenterZ"},"NormalX":{"type":"number","description":"NormalX"},"NormalY":{"type":"number","description":"NormalY"},"NormalZ":{"type":"number","description":"NormalZ"},"AngleXU":{"type":"number","description":"AngleXU"},"Radius":{"type":"number","exclusiveMinimum":0,"description":"Radius"}}},{"type":"object","description":"Part::GeomLineSegment","title":"IGeomLineSegment","required":["TypeId","StartX","StartY","StartZ","EndX","EndY","EndZ"],"additionalProperties":false,"properties":{"TypeId":{"const":"Part::GeomLineSegment","description":"Geometry type"},"StartX":{"type":"number","description":"StartX"},"StartY":{"type":"number","description":"StartY"},"StartZ":{"type":"number","description":"StartZ"},"EndX":{"type":"number","description":"EndX"},"EndY":{"type":"number","description":"EndY"},"EndZ":{"type":"number","description":"EndZ"}}}]}},"Color":{"type":"string","description":"The color of the sketch object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Sphere":{"type":"object","required":["Radius","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius":{"type":"number","exclusiveMinimum":0,"description":"The radius of the sphere"},"Angle1":{"type":"number","description":"First angle defining a spherical segment"},"Angle2":{"type":"number","description":"Second angle defining a spherical segment"},"Angle3":{"type":"number","description":"The angle between the radii lying within the bounding semidisks"},"Color":{"type":"string","description":"The color of the sphere","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::Torus":{"type":"object","required":["Radius1","Radius2","Angle1","Angle2","Angle3","Placement"],"additionalProperties":false,"properties":{"Radius1":{"type":"number","exclusiveMinimum":0,"description":"The distance from the center of the pipe to the center of the torus"},"Radius2":{"type":"number","exclusiveMinimum":0,"description":"The radius of the pipe"},"Angle1":{"type":"number","description":"First angle to create a torus ring segment"},"Angle2":{"type":"number","description":"Second angle to create a torus ring segment"},"Angle3":{"type":"number","description":"Angle to create a torus pipe segment"},"Color":{"type":"string","description":"The color of the torus","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}},"Part::MultiFuse":{"type":"object","required":["Shapes","Refine","Placement"],"additionalProperties":false,"properties":{"Shapes":{"type":"array","description":"The shapes of the individual elements","fcType":"App::PropertyLinkList","items":{"type":"string"}},"Refine":{"type":"boolean","description":"Refine shape"},"Color":{"type":"string","description":"The color of the fused object","default":"#808080"},"Placement":{"type":"object","description":"Placement of the object","additionalProperties":false,"required":["Position","Axis","Angle"],"properties":{"Position":{"type":"array","description":"Position","items":{"type":"number"}},"Axis":{"type":"array","description":"Rotation Axis","items":{"type":"number"}},"Angle":{"type":"number","description":"Rotation Angle (degrees)"}}}}}}');class N{constructor(){this._registry=new Map(Object.entries(F))}registerSchema(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}has(e){return this._registry.has(e)}getSchemas(){return this._registry}}class J{constructor(){this._registry=new Set}registerCommand(e){this._registry.add(e)}getCommands(){return[...this._registry]}}const q=[{id:"jupytercad:core:tracker",autoStart:!0,requires:[I.ITranslator],optional:[_.IMainMenu],provides:n.IJupyterCadDocTracker,activate:(e,t,r)=>{const i=new s.WidgetTracker({namespace:"jupytercad"});return i.currentChanged.connect((()=>{if(i.currentWidget){const e=new Event("resize");window.dispatchEvent(e)}})),console.log("jupytercad:core:tracker is activated!"),i}},{id:"jupytercad:core:annotation",autoStart:!0,requires:[n.IJupyterCadDocTracker],provides:n.IAnnotationToken,activate:(e,t)=>{var r;const i=new o.AnnotationModel({model:null===(r=t.currentWidget)||void 0===r?void 0:r.model});return t.currentChanged.connect(((e,t)=>{i.model=(null==t?void 0:t.model)||void 0})),i}},{id:"jupytercad:core:worker-registry",autoStart:!0,requires:[],provides:n.IJCadWorkerRegistryToken,activate:e=>new E},P,R,w,{id:"jupytercad:core:form-schema-registry",autoStart:!0,requires:[],provides:n.IJCadFormSchemaRegistryToken,activate:e=>new N},{id:"jupytercad:core:external-command-registry",autoStart:!0,requires:[],provides:n.IJCadExternalCommandRegistryToken,activate:e=>new J}]}}]);