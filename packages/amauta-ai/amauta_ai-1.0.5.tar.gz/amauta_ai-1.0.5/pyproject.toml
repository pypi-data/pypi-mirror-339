[tool.poetry]
name = "amauta-ai"
version = "1.0.5"
description = "AMAUTA Unified AI Development Command Center"
authors = ["AMAUTA Team"]
readme = "README.md"
packages = [
    {include = "amauta_ai"},
    {include = "amauta_ai/**/*.py"}
]
license = "MIT"
homepage = "https://github.com/luiscmogrovejo/amauta"
repository = "https://github.com/luiscmogrovejo/amauta"
documentation = "https://github.com/luiscmogrovejo/amauta"
keywords = ["ai", "development", "code analysis", "task management", "cli", "cursor", "ide", "productivity"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Environment :: Console",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: Code Generators",
    "Topic :: Software Development :: Quality Assurance",
    "Topic :: Utilities",
]

[tool.poetry.dependencies]
python = ">=3.10,<4.0"
typer = {extras = ["all"], version = ">=0.9.0"}
pydantic = "^2.11.2"
python-dotenv = "^1.0.1"
anthropic = {version = "^0.49.0", optional = true}
requests = "^2.32.3"
pyyaml = "^6.0.1"
tree-sitter = "^0.20.2"
jinja2 = "^3.1.6"
pathspec = "^0.12.1"  # For handling .gitignore patterns
rich = "^13.9.4"      # For rich console output
markdown-it-py = "^3.0.0"  # For markdown processing
pygments = "^2.19.1"  # For syntax highlighting
tomli = "^2.0.1"      # For parsing pyproject.toml
shellingham = "^1.5.4"  # For shell detection for completions
aiohttp = "^3.10.11"    # Updated to fix CVE-2024-52303, CVE-2024-52304, CVE-2024-42367
tqdm = "^4.66.4"      # Latest version addressing CVE-2023-52425
typing-extensions = "^4.13.0"
python-dateutil = "^2.9.0"

[tool.poetry.group.dev.dependencies]
pytest = "^7.4.3"
pytest-cov = "^4.1.0"
pytest-mock = "^3.12.0"
black = "^24.10.0"
ruff = ">=0.1.13,<0.12.0"
mypy = "^1.15.0"
types-requests = "^2.31.0.20240218"
types-pyyaml = "^6.0.12.20250402"

[tool.poetry.extras]
ai = ["anthropic"]

[tool.poetry.scripts]
amauta = "amauta_ai.main:app"

[tool.poetry.urls]
"Bug Tracker" = "https://github.com/luiscmogrovejo/amauta/issues"
"Changelog" = "https://github.com/luiscmogrovejo/amauta/blob/main/CHANGELOG.md"

[tool.poetry.plugins."console_scripts"]
amauta = "amauta_ai.main:app"

[tool.black]
line-length = 88
target-version = ['py310']

[tool.ruff]
line-length = 88
target-version = "py310"
select = [
    "E",  # pycodestyle errors
    "F",  # pyflakes
    "I",  # isort
    "B",  # flake8-bugbear
]

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
exclude = 'tests/unit/scripts'

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api" 