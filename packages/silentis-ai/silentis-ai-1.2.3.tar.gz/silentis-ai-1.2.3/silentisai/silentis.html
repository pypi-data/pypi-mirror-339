<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Meta Tags for SEO -->
  <meta name="description" content="Silentis offers powerful, privacy-focused offline AI software based on Llama 3.2 4B. Interact with Silentis AI through this web interface.">
  <meta name="keywords" content="Silentis, offline AI, privacy-focused AI, Llama 3.2, artificial intelligence, free AI software">
  <meta name="author" content="Silentis Team">
  <meta name="robots" content="index, follow">
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Silentis - AI Web Interface">
  <meta property="og:description" content="Interact with Silentis AI directly from your browser. Privacy-focused and powerful offline AI solutions.">
  <meta property="og:image" content="https://silentis.ai/logo.png">
  <meta property="og:url" content="https://silentis.ai">
  <meta property="og:type" content="website">
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Silentis - AI Web Interface">
  <meta name="twitter:description" content="Silentis: Privacy-first offline AI software interface. Interact now!">
  <meta name="twitter:image" content="https://silentis.ai/logo.png">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
  <title>Silentis - AI Interface</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 0;
      color: #455A64;
      display: flex;
      min-height: 100vh;
    }

    .logo {
      font-family: "Righteous", serif;
      font-weight: 400;
      font-style: normal;
    }

    nav {
      background-color: #4325C3 !important;
    }

    .navbar-brand,
    .nav-link {
      color: white !important;
    }

    .navbar-toggler-icon {
      filter: invert(1);
    }

    .navbar-nav .nav-link:hover {
      color: #ccc !important;
    }

    /* Sidebar */
    .sidebar {
      width: 150px;
      background: #4325C3;
      color: white;
      padding: 20px;
      position: fixed;
      height: 100%;
      overflow-y: auto;
      box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
      z-index: 999;
    }

    .sidebar h3 {
      font-size: 2rem;
      text-align: center;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
    }

    .sidebar li {
      margin: 15px 0;
    }

    .sidebar a {
      color: white;
      text-decoration: none;
      font-size: 1rem;
      padding: 10px;
      display: block;
      border-radius: 5px;
      transition: background 0.2s;
      cursor: pointer;
    }

    .sidebar a:hover, .sidebar a.active {
      background: rgba(255, 255, 255, 0.2);
    }

    /* Main Content */
    .main-content {
      margin-left: 150px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }

    .hero-section {
      background: #4325C3;
      color: #fff;
      text-align: center;
    }

    .hero-section h1 {
      font-size: 4rem;
      margin-bottom: 0;
    }

    .hero-section p {
      font-size: 1.2rem;
    }

    .desc {
      margin-top: 0;
      padding-top: 0;
      font-size: 10px;
      text-align: center;
    }

    .btn-custom {
      background-color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border-radius: 5px;
      color: #4325C3;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
      transition: all 0.2s ease;
      position: relative;
      top: 0;
    }

    .btn-custom:hover {
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3), inset 0 -2px 4px rgba(0, 0, 0, 0.1);
      top: 2px;
    }

    .interface-section {
      margin: 20px;
      border: 1px solid lightgray;
      border-radius: 20px;
      padding: 20px;
      flex-grow: 1;
      display: none;
    }

    .interface-section.active {
      display: block;
    }

    .interface-section h2 {
      color: #4325C3;
      margin-bottom: 20px;
    }

    .form-select, .form-control {
      margin-bottom: 15px;
    }

    /* Chat Interface */
    .chat-container {
      height: 300px;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      background: #fff;
      margin-bottom: 15px;
    }

    .chat-message {
      margin: 10px 0;
      padding: 10px;
      border-radius: 5px;
      max-width: 70%;
    }

    .chat-message.user {
      background: #4325C3;
      color: white;
      margin-left: auto;
    }

    .chat-message.ai {
      background: #f0f0f0;
      color: #455A64;
    }

    .error-container {
      min-height: 50px;
      border: 1px solid #ffcccc;
      border-radius: 5px;
      padding: 10px;
      background: #fff;
      color: #d9534f;
      margin-bottom: 15px;
    }

    .instructions-box {
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      background: #f9f9f9;
      margin-top: 15px;
    }

    .instructions-box textarea {
      width: 100%;
      height: 100px;
      resize: vertical;
      border: none;
      background: transparent;
      outline: none;
    }

    pre {
      background: #f0f0f0;
      padding: 10px;
      border-radius: 5px;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    footer {
      background-color: #333;
      color: #fff;
      text-align: center;
      padding: 1rem 0;
    }

    footer a {
      color: #4325C3;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    #models-output, #load-output, #config-output, #status-output {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h3 class="logo">Silentis</h3>
    <p class="desc">AI INTERFACE</p>
    <ul>
      <li><a href="#chat" class="nav-link active" data-section="chat-section">Chat</a></li>
      <li><a href="#settings" class="nav-link" data-section="settings-section">Settings</a></li>
      <li><a href="#status" class="nav-link" data-section="status-section">Status</a></li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Hero Section -->
    <section class="hero-section">
      <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link active" href="https://silentis.ai">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://springboard.pancakeswap.finance/bsc/token/0x8a87562947422db0eb3070a5a1ac773c7a8d64e7">Buy Silentis Token</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://silentis.ai/Whitepaper.html">Whitepaper</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://silentis.ai/contact.html">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="container">
        <h1 class="logo">Silentis</h1>
        <p>Interact with Silentis offline AI directly from your browser.</p>
      </div>
    </section>

    <!-- Chat Section -->
    <section class="interface-section active" id="chat-section">
      <div class="container">
        <h2>Chat with Silentis</h2>
        <div class="chat-container" id="chat-container"></div>
        <div class="error-container" id="error-container"></div>
        <textarea class="form-control" id="chat-prompt" placeholder="Enter your prompt here"></textarea>
        <button class="btn-custom" onclick="sendChat()">Send</button>
      </div>
    </section>

    <!-- Settings Section -->
    <section class="interface-section" id="settings-section">
      <div class="container">
        <h2>Settings</h2>

        <!-- Models -->
        <div class="mb-4" id="models">
          <h4>Available Models</h4>
          <button class="btn-custom" onclick="getModels()">List Models</button>
          <pre id="models-output"></pre>
        </div>

        <!-- Load Model -->
        <div class="mb-4" id="load-model">
          <h4>Load Model</h4>
          <select class="form-select" id="model-number">
            <option value="1">Reasoner v1</option>
            <option value="2">Llama 3 8B Instruct</option>
            <option value="3">DeepSeek-R1-Distill-Qwen-7B</option>
            <option value="4">Phi-3 Mini Instruct</option>
          </select>
          <button class="btn-custom" onclick="loadModel()">Load Model</button>
          <pre id="load-output"></pre>
        </div>

        <!-- Configuration -->
        <div class="mb-4" id="config">
          <h4>Configuration</h4>
          <button class="btn-custom" onclick="getConfig()">Get Config</button>
          <div class="mt-3">
            <label for="temp">Temperature (0-1):</label>
            <input type="number" class="form-control" id="temp" min="0" max="1" step="0.1" value="0.7">
            <label for="max-tokens">Max Tokens (1-1000):</label>
            <input type="number" class="form-control" id="max-tokens" min="1" max="1000" value="50">
            <label for="top-p">Top-P (0-1):</label>
            <input type="number" class="form-control" id="top-p" min="0" max="1" step="0.1" value="0.9">
            <label for="system-prompt">System Prompt:</label>
            <textarea class="form-control" id="system-prompt" placeholder="You are Silentis, a helpful AI assistant."></textarea>
            <label for="instructions">Instructions:</label>
            <div class="instructions-box">
              <textarea id="instructions" placeholder="Enter instructions for Silentis (e.g., 'Act as a coding assistant')"></textarea>
            </div>
            <button class="btn-custom" onclick="applyConfig()">Apply Config</button>
          </div>
          <pre id="config-output"></pre>
        </div>
      </div>
    </section>

    <!-- Status Section -->
    <section class="interface-section" id="status-section">
      <div class="container">
        <h2>Status</h2>
        <button class="btn-custom" onclick="getStatus()">Check Status</button>
        <pre id="status-output"></pre>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <p>© 2025 Silentis. All rights reserved. | Plugin version: 1.0 - Preview</p>
    </footer>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- API Interaction Script -->
  <script>
    const BASE_URL = '/api';
    const chatContainer = document.getElementById('chat-container');
    const errorContainer = document.getElementById('error-container');

    // Navigation functionality
    document.addEventListener('DOMContentLoaded', () => {
      const navLinks = document.querySelectorAll('.sidebar .nav-link');
      const sections = document.querySelectorAll('.interface-section');

      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const sectionId = link.getAttribute('data-section');

          // Remove active class from all links and sections
          navLinks.forEach(l => l.classList.remove('active'));
          sections.forEach(s => s.classList.remove('active'));

          // Add active class to clicked link and corresponding section
          link.classList.add('active');
          document.getElementById(sectionId).classList.add('active');
        });
      });

      // Set Chat as default active section
      document.querySelector('.nav-link[data-section="chat-section"]').classList.add('active');
    });

    async function fetchAPI(endpoint, method = 'GET', body = null) {
      const options = {
        method,
        headers: { 'Content-Type': 'application/json' }
      };
      if (body) options.body = JSON.stringify(body);
      const response = await fetch(`${BASE_URL}${endpoint}`, options);
      const data = await response.json();
      return { status: response.status, data };
    }

    function displayOutput(elementId, data, status) {
      const output = document.getElementById(elementId);
      output.textContent = `Status: ${status}\n${JSON.stringify(data, null, 2)}`;
    }

    function addChatMessage(message, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.classList.add('chat-message', isUser ? 'user' : 'ai');
      messageDiv.textContent = message;
      chatContainer.appendChild(messageDiv);
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    function displayError(error) {
      errorContainer.textContent = error;
    }

    async function getModels() {
      const { status, data } = await fetchAPI('/models');
      displayOutput('models-output', data, status);
    }

    async function loadModel() {
      const modelNumber = document.getElementById('model-number').value;
      const { status, data } = await fetchAPI('/load_model', 'POST', { model_number: parseInt(modelNumber) });
      displayOutput('load-output', data, status);
    }

    async function sendChat() {
      const prompt = document.getElementById('chat-prompt').value;
      if (!prompt) {
        displayError('Please enter a prompt');
        return;
      }

      displayError('');
      addChatMessage(prompt, true);

      try {
        const { status, data } = await fetchAPI('/chat', 'POST', { prompt: prompt });
        if (status === 200) {
          addChatMessage(data.response);
        } else {
          displayError(`Error ${status}: ${data.error || 'Unknown error'}`);
        }
      } catch (e) {
        displayError(`Network error: ${e.message}`);
      }

      document.getElementById('chat-prompt').value = '';
    }

    async function getConfig() {
      const { status, data } = await fetchAPI('/config');
      if (status === 200) {
        document.getElementById('temp').value = data.model_params.temp;
        document.getElementById('max-tokens').value = data.model_params.max_tokens;
        document.getElementById('top-p').value = data.model_params.top_p;
        document.getElementById('system-prompt').value = data.system_prompt;
        document.getElementById('instructions').value = data.instructions || '';
      }
      displayOutput('config-output', data, status);
    }

    async function applyConfig() {
      const temp = parseFloat(document.getElementById('temp').value);
      const maxTokens = parseInt(document.getElementById('max-tokens').value);
      const topP = parseFloat(document.getElementById('top-p').value);
      const systemPrompt = document.getElementById('system-prompt').value;
      const instructions = document.getElementById('instructions').value;

      if (temp < 0 || temp > 1 || isNaN(temp)) {
        displayError('Temperature must be between 0 and 1');
        return;
      }
      if (maxTokens < 1 || maxTokens > 1000 || isNaN(maxTokens)) {
        displayError('Max Tokens must be between 1 and 1000');
        return;
      }
      if (topP < 0 || topP > 1 || isNaN(topP)) {
        displayError('Top-P must be between 0 and 1');
        return;
      }

      const config = {
        model_params: {
          temp: temp,
          max_tokens: maxTokens,
          top_p: topP
        },
        system_prompt: systemPrompt,
        instructions: instructions
      };

      const { status, data } = await fetchAPI('/config', 'POST', config);
      displayOutput('config-output', data, status);
    }

    async function getStatus() {
      const { status, data } = await fetchAPI('/status');
      displayOutput('status-output', data, status);
    }
  </script>
</body>
</html>