# -------------------- build-system --------------------- #

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[project]
name = "ccob"
version = "0.1.1"
description = "Cookiecutter Template for Obsidian."
readme = "README.rst"
authors = [{name = "gooker_young", email = "gooker_young@qq.com"}]
maintainers = [{name = "gooker_young", email = "gooker_young@qq.com"}]
requires-python = ">=3.8"
dependencies = [
  "rich>=13.9.4",
  "typer>=0.15.1"
]
classifiers = []
license = {text = "MIT license"}

[project.scripts]
ccob = "ccob.cli:app"

[project.urls]
Repository = "https://gitee.com/gooker_young/ccob"
Documentation = "https://ccob.readthedocs.io/zh-cn/stable/"
Issues = "https://gitee.com/gooker_young/ccob/issues"

# -------------------- hatch-version -------------------- #
[tool.hatch]

[tool.hatch.version]
path = "src/ccob/__init__.py"

# ------------------------ mypy ------------------------- #
[tool.mypy]
files = "."
strict = true
pretty = true
show_error_codes = true
warn_unreachable = true
warn_no_return = true

[[tool.mypy.overrides]]
module = [
  "tests.*",
  "asgiref.*",
  "dotenv.*",
  "cryptography.*",
  "importlib_metadata"
]
allow_untyped_defs = true
disable_error_code = "attr-defined"
ignore_missing_imports = true

# ----------------------- pytest ------------------------ #
[tool.pytest]
[tool.pytest.ini_options]
testpaths = ["tests"]
filterwarnings = ["error"]

# ------------------------ ruff ------------------------- #
[tool.ruff]
line-length = 120
fix = true
show-fixes = true
output-format = "full"
exclude = ["*cookiecutter.project_slug*"]

[tool.ruff.lint]
select = ["B", "E", "F", "I", "UP", "W"]

[tool.ruff.lint.isort]
force-single-line = true
order-by-type = false

# ----------------------- uv-dependencies ------------------------ #
[tool.uv]
dev-dependencies = [
  "coverage>=7.6.1",
  "pytest-cookies>=0.7.0",
  "pytest>=8.3.4",
  "sphinx>=7.1.2",
  "sphinx-rtd-theme>=3.0.2",
  "tox>=4.24.1",
  "tox-uv>=1.13.1",
]

[tool.uv.sources]
ccob = {workspace = true}
